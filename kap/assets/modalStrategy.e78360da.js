import{_ as m,o as _,c as p,h as u,w as d,m as o,d as h,i as g,g as c}from"./app.84c19619.js";const v={setup(){let r=class{constructor(a){let s=this;this.strategies={noEmpty(e,t){if(e===null||e===""||e===void 0){let l=t.message?t.message:"\u4E0D\u80FD\u4E3A\u7A7A";return l=`${t.name?t.name:""}${l}`,s.showTip(l),!1}return!0},number(e,t){if(isNaN(e)){let l=t.message?t.message:"\u4E0D\u662F\u6B63\u786E\u7684\u6570\u5B57";return l=`${t.name?t.name:""}${l}`,s.showTip(l),!1}return!0}},this.ruleList=a}validate(a){for(let s in this.ruleList){let e=this.ruleList[s],t=a[s];if(!this.validateItem(t,e))return!1}return!0}validateItem(a,s){for(let e of s)if(e.type)if(this.strategies[e.type]){if(!this.strategies[e.type](a,e))return!1}else throw new Error("\u5F53\u524D\u9A8C\u8BC1\u7684\u7C7B\u578B\u4E0D\u5B58\u5728\u5BF9\u5E94\u7B56\u7565");return!0}showTip(a){o.error(a)}},i={data1:{name:"",age:""},data2:{name:"\u59D3\u540D",age:""},data3:{name:"\u59D3\u540D",age:"xxx"},rule1:{name:[{type:"noEmpty",message:"\u8BF7\u8F93\u5165\u59D3\u540D"}],age:[{type:"noEmpty",message:"\u5E74\u9F84\u4E0D\u80FD\u4E3A\u7A7A"},{type:"number",name:"\u5E74\u9F84"}]}},n=new r(i.rule1);return{...{validate1(){n.validate(i.data1)&&o.success("\u6821\u9A8C\u6210\u529F")},validate2(){n.validate(i.data2)&&o.success("\u6821\u9A8C\u6210\u529F")},validate3(){n.validate(i.data3)&&o.success("\u6821\u9A8C\u6210\u529F")}}}}},y=h("p",null,"\u901A\u8FC7\u7B56\u7565\u6A21\u5F0F \u5224\u65AD\u8868\u5355\u6570\u636E",-1),k=c("\u6821\u9A8C\u6570\u636E1"),w=c("\u6821\u9A8C\u6570\u636E2"),C=c("\u6821\u9A8C\u6570\u636E3");function $(r,i,n,f,a,s){const e=g("a-button");return _(),p("div",null,[y,u(e,{onClick:r.validate1},{default:d(()=>[k]),_:1},8,["onClick"]),u(e,{onClick:r.validate2},{default:d(()=>[w]),_:1},8,["onClick"]),u(e,{onClick:r.validate3},{default:d(()=>[C]),_:1},8,["onClick"])])}var E=m(v,[["render",$],["__file","modalStrategy.vue"]]);export{E as default};
