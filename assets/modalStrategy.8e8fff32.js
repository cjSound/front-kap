import{_ as p,g,o as v,c,b as y,h as u,w as d,m as o,f}from"./app.705be9e1.js";const h={setup(){let n=class{constructor(s){let l=this;this.strategies={noEmpty(e,a){if(e===null||e===""||e===void 0){let r=a.message?a.message:"\u4E0D\u80FD\u4E3A\u7A7A";return r=`${a.name?a.name:""}${r}`,l.showTip(r),!1}return!0},number(e,a){if(isNaN(e)){let r=a.message?a.message:"\u4E0D\u662F\u6B63\u786E\u7684\u6570\u5B57";return r=`${a.name?a.name:""}${r}`,l.showTip(r),!1}return!0}},this.ruleList=s}validate(s){for(let l in this.ruleList){let e=this.ruleList[l],a=s[l];if(!this.validateItem(a,e))return!1}return!0}validateItem(s,l){for(let e of l)if(e.type)if(this.strategies[e.type]){if(!this.strategies[e.type](s,e))return!1}else throw new Error("\u5F53\u524D\u9A8C\u8BC1\u7684\u7C7B\u578B\u4E0D\u5B58\u5728\u5BF9\u5E94\u7B56\u7565");return!0}showTip(s){o.error(s)}},t={data1:{name:"",age:""},data2:{name:"\u59D3\u540D",age:""},data3:{name:"\u59D3\u540D",age:"xxx"},rule1:{name:[{type:"noEmpty",message:"\u8BF7\u8F93\u5165\u59D3\u540D"}],age:[{type:"noEmpty",message:"\u5E74\u9F84\u4E0D\u80FD\u4E3A\u7A7A"},{type:"number",name:"\u5E74\u9F84"}]}},i=new n(t.rule1);return{...{validate1(){i.validate(t.data1)&&o.success("\u6821\u9A8C\u6210\u529F")},validate2(){i.validate(t.data2)&&o.success("\u6821\u9A8C\u6210\u529F")},validate3(){i.validate(t.data3)&&o.success("\u6821\u9A8C\u6210\u529F")}}}}};function _(n,t,i,m,s,l){const e=g("a-button");return v(),c("div",null,[t[3]||(t[3]=y("p",null,"\u901A\u8FC7\u7B56\u7565\u6A21\u5F0F \u5224\u65AD\u8868\u5355\u6570\u636E",-1)),u(e,{onClick:n.validate1},{default:d(()=>t[0]||(t[0]=[f("\u6821\u9A8C\u6570\u636E1")])),_:1},8,["onClick"]),u(e,{onClick:n.validate2},{default:d(()=>t[1]||(t[1]=[f("\u6821\u9A8C\u6570\u636E2")])),_:1},8,["onClick"]),u(e,{onClick:n.validate3},{default:d(()=>t[2]||(t[2]=[f("\u6821\u9A8C\u6570\u636E3")])),_:1},8,["onClick"])])}var w=p(h,[["render",_],["__file","modalStrategy.vue"]]);export{w as default};
