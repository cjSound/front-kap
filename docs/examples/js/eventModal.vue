<!--
 * @Author: æ›¹æ·
 * @Date: 2022-06-02 15:46:12
 * @LastEditors: æ›¹æ·
 * @LastEditTime: 2022-06-07 16:03:22
 * @Description: äº‹ä»¶æ¨¡å‹
-->
<template>
  <div class="" id="event">
    <div class="item bubbParent">
      <button id="bubbling">äº‹ä»¶å†’æ³¡</button>
    </div>
    <div class="item bubbParent">
      <button id="stopBubb">é˜»æ­¢äº‹ä»¶å†’æ³¡</button>
    </div>
    <div class="item  " id="capParent">
      <button id="cap">äº‹ä»¶æ•è·</button>
    </div>
    <div class="item " id="stopCapParent">
      <button id="stopCap">é˜»æ­¢äº‹ä»¶æ•è·</button>
    </div>
  </div>
</template>

<script>
import { reactive, toRefs, onMounted } from 'vue'
export default {
  setup () {
    let data = reactive({
    })
    let _methods = {
      initEvent () {
        this.initBubb()
        this.initCap()
        this.stopBubb()
        this.stopCap()
      },
      /**
       * äº‹ä»¶å†’æ³¡
       */
      initBubb () {
        console.log('ğŸš€ ~ file: eventModal.vue ~ li ', document.getElementsByClassName('bubbParent'))
        for (const el of document.getElementsByClassName('bubbParent')) {
          el.addEventListener('click', function () {
            alert(`çˆ¶èŠ‚ç‚¹`)
          })
        }
        let dom = document.getElementById('bubbling')
        dom.addEventListener('click', function () {
          alert('äº‹ä»¶å†’æ³¡ ä»ä¸‹å¾€ä¸Š')
        })
      },
      /**
       * é˜»æ­¢äº‹ä»¶å†’æ³¡
       */
      stopBubb () {
        document.getElementById('stopBubb').addEventListener('click', function (event) {
          event.stopPropagation()
          alert('é˜»æ­¢äº‹ä»¶å†’æ³¡,çˆ¶èŠ‚ç‚¹äº‹ä»¶ä¸ä¼šå†è§¦å‘')
        })
      },
      /**
       * äº‹ä»¶æ•è·
       */
      initCap () {
        document.getElementById('capParent').addEventListener('click', function () {
          alert(`çˆ¶èŠ‚ç‚¹æ•è·`)
        }, true)
        let dom = document.getElementById('cap')
        dom.addEventListener('click', function () {
          alert('äº‹ä»¶æ•è· å­èŠ‚ç‚¹åå“åº”')
        }, true)
      },
      /**
       * äº‹ä»¶æ•è·ï¼Œä¸å†å‘ä¸‹ä¼ é€’
       */
      stopCap () {
        document.getElementById('stopCapParent').addEventListener('click', function (event) {
          event.stopPropagation()
          event.preventDefault()
          alert(`çˆ¶èŠ‚ç‚¹æ•è·`)
        }, true)
        document.getElementById('stopCap').addEventListener('click', function (event) {
          alert('äº‹ä»¶æ•è·')
        })
      }


    }
    onMounted(() => {
      _methods.initEvent()

    })
    return {
      data
    }
  }
}
</script>

<style lang="less">
.item {
  height: 50px;
  line-height: 50px;
  text-align: center;
  background: red;
  color: #fff;
  margin-bottom: 20px;
}
</style>