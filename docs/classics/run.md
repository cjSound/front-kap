# js运行机制
## 事件机制

:::tip 
⾸先， **js** 是单线程的，主要的任务是处理⽤户的交互.

⽽⽤户的交互⽆⾮就是响应 **DOM** 的增删改，使⽤事件队列的形式，⼀次事件循环只处理⼀个事件响应，使得脚本执⾏相对连续，所以有了事件队列，⽤来储存待执⾏的事件


那么事件队列的事件从哪⾥被 **push** 进来的呢。那就是另外⼀个线程叫事件触发线程做的事情了，他的作⽤主要是在 **定时触发器线程**、异步 **HTTP** 请求线程满⾜特定条件下的回调函数 push 到事件队列中，等待 js 引擎空闲的时候去执⾏，

当然**js**引擎执⾏过程中有优先级之分，⾸先js引擎在⼀次事件循环中，会先执⾏js线程的主任务，然后会去查找是否有微任务 **microtask（promise）** ，如果有那就**优先执⾏微任务**，如果没有，在去查找宏任务 macrotask（**setTimeout、setInterval**） 进⾏执⾏
:::