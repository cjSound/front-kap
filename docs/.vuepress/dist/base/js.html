<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="./favicon.ico"><script src="./js/g2plot.min.js"></script><title>JavaScript | å‰ç«¯åŸºç¡€çŸ¥è¯†</title><meta name="description" content="æ•´ç†å½’ç±»å‰ç«¯å„é¡¹èµ„æ–™">
    <link rel="modulepreload" href="./assets/app.84c19619.js"><link rel="modulepreload" href="./assets/js.html.643bc7b5.js"><link rel="modulepreload" href="./assets/js.html.9822df70.js">
    <link rel="stylesheet" href="./assets/style.07e10c79.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/./" class=""><img class="logo" src="././img/logo.png" alt="å‰ç«¯åŸºç¡€çŸ¥è¯†"><span class="site-name can-hide">å‰ç«¯åŸºç¡€çŸ¥è¯†</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/./base/" class="" aria-label="é¦–é¡µ"><!--[--><!--]--> é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="åŸºç¡€"><span class="title">åŸºç¡€</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="åŸºç¡€"><span class="title">åŸºç¡€</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./base/base/get-started.md" class="" aria-label="./base/get-started.md"><!--[--><!--]--> ./base/get-started.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/base/css.md" class="" aria-label="./base/css.md"><!--[--><!--]--> ./base/css.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/base/js.md" class="" aria-label="./base/js.md"><!--[--><!--]--> ./base/js.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/base/code.md" class="" aria-label="./base/code.md"><!--[--><!--]--> ./base/code.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/base/more.md" class="" aria-label="./base/more.md"><!--[--><!--]--> ./base/more.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/base/vue.md" class="" aria-label="./base/vue.md"><!--[--><!--]--> ./base/vue.md <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ç»å…¸"><span class="title">ç»å…¸</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ç»å…¸"><span class="title">ç»å…¸</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./base/classics/optimize.md" class="" aria-label="./classics/optimize.md"><!--[--><!--]--> ./classics/optimize.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/cache.md" class="" aria-label="./classics/cache.md"><!--[--><!--]--> ./classics/cache.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/run.md" class="" aria-label="./classics/run.md"><!--[--><!--]--> ./classics/run.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/webpack.md" class="" aria-label="./classics/webpack.md"><!--[--><!--]--> ./classics/webpack.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/intbase.md" class="" aria-label="./classics/intbase.md"><!--[--><!--]--> ./classics/intbase.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/browser.md" class="" aria-label="./classics/browser.md"><!--[--><!--]--> ./classics/browser.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/zoom.md" class="" aria-label="./classics/zoom.md"><!--[--><!--]--> ./classics/zoom.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/http.md" class="" aria-label="./classics/http.md"><!--[--><!--]--> ./classics/http.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/interview.md" class="" aria-label="./classics/interview.md"><!--[--><!--]--> ./classics/interview.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/array.md" class="" aria-label="./classics/array.md"><!--[--><!--]--> ./classics/array.md <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ç¬”è®°"><span class="title">ç¬”è®°</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ç¬”è®°"><span class="title">ç¬”è®°</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./base/note/app.md" class="" aria-label="./note/app.md"><!--[--><!--]--> ./note/app.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/note/attention.md" class="" aria-label="./note/attention.md"><!--[--><!--]--> ./note/attention.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/note/appbug.md" class="" aria-label="./note/appbug.md"><!--[--><!--]--> ./note/appbug.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/note/vue.md" class="" aria-label="./note/vue.md"><!--[--><!--]--> ./note/vue.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/note/typescript.md" class="" aria-label="./note/typescript.md"><!--[--><!--]--> ./note/typescript.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/note/shun.md" class="" aria-label="./note/shun.md"><!--[--><!--]--> ./note/shun.md <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="react"><span class="title">react</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="react"><span class="title">react</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./base/react/note.md" class="" aria-label="./react/note.md"><!--[--><!--]--> ./react/note.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/react/hook.md" class="" aria-label="./react/hook.md"><!--[--><!--]--> ./react/hook.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/react/router3.md" class="" aria-label="./react/router3.md"><!--[--><!--]--> ./react/router3.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/react/decorators.md" class="" aria-label="./react/decorators.md"><!--[--><!--]--> ./react/decorators.md <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="TS"><span class="title">TS</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="TS"><span class="title">TS</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./base/typescript/type.md" class="" aria-label="./typescript/type.md"><!--[--><!--]--> ./typescript/type.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/typescript/compile.md" class="" aria-label="./typescript/compile.md"><!--[--><!--]--> ./typescript/compile.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/typescript/oop.md" class="" aria-label="./typescript/oop.md"><!--[--><!--]--> ./typescript/oop.md <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/cjSound/front-kap.git" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/./base/" class="" aria-label="é¦–é¡µ"><!--[--><!--]--> é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="åŸºç¡€"><span class="title">åŸºç¡€</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="åŸºç¡€"><span class="title">åŸºç¡€</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./base/base/get-started.md" class="" aria-label="./base/get-started.md"><!--[--><!--]--> ./base/get-started.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/base/css.md" class="" aria-label="./base/css.md"><!--[--><!--]--> ./base/css.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/base/js.md" class="" aria-label="./base/js.md"><!--[--><!--]--> ./base/js.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/base/code.md" class="" aria-label="./base/code.md"><!--[--><!--]--> ./base/code.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/base/more.md" class="" aria-label="./base/more.md"><!--[--><!--]--> ./base/more.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/base/vue.md" class="" aria-label="./base/vue.md"><!--[--><!--]--> ./base/vue.md <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ç»å…¸"><span class="title">ç»å…¸</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ç»å…¸"><span class="title">ç»å…¸</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./base/classics/optimize.md" class="" aria-label="./classics/optimize.md"><!--[--><!--]--> ./classics/optimize.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/cache.md" class="" aria-label="./classics/cache.md"><!--[--><!--]--> ./classics/cache.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/run.md" class="" aria-label="./classics/run.md"><!--[--><!--]--> ./classics/run.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/webpack.md" class="" aria-label="./classics/webpack.md"><!--[--><!--]--> ./classics/webpack.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/intbase.md" class="" aria-label="./classics/intbase.md"><!--[--><!--]--> ./classics/intbase.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/browser.md" class="" aria-label="./classics/browser.md"><!--[--><!--]--> ./classics/browser.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/zoom.md" class="" aria-label="./classics/zoom.md"><!--[--><!--]--> ./classics/zoom.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/http.md" class="" aria-label="./classics/http.md"><!--[--><!--]--> ./classics/http.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/interview.md" class="" aria-label="./classics/interview.md"><!--[--><!--]--> ./classics/interview.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/classics/array.md" class="" aria-label="./classics/array.md"><!--[--><!--]--> ./classics/array.md <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ç¬”è®°"><span class="title">ç¬”è®°</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ç¬”è®°"><span class="title">ç¬”è®°</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./base/note/app.md" class="" aria-label="./note/app.md"><!--[--><!--]--> ./note/app.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/note/attention.md" class="" aria-label="./note/attention.md"><!--[--><!--]--> ./note/attention.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/note/appbug.md" class="" aria-label="./note/appbug.md"><!--[--><!--]--> ./note/appbug.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/note/vue.md" class="" aria-label="./note/vue.md"><!--[--><!--]--> ./note/vue.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/note/typescript.md" class="" aria-label="./note/typescript.md"><!--[--><!--]--> ./note/typescript.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/note/shun.md" class="" aria-label="./note/shun.md"><!--[--><!--]--> ./note/shun.md <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="react"><span class="title">react</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="react"><span class="title">react</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./base/react/note.md" class="" aria-label="./react/note.md"><!--[--><!--]--> ./react/note.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/react/hook.md" class="" aria-label="./react/hook.md"><!--[--><!--]--> ./react/hook.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/react/router3.md" class="" aria-label="./react/router3.md"><!--[--><!--]--> ./react/router3.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/react/decorators.md" class="" aria-label="./react/decorators.md"><!--[--><!--]--> ./react/decorators.md <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="TS"><span class="title">TS</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="TS"><span class="title">TS</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./base/typescript/type.md" class="" aria-label="./typescript/type.md"><!--[--><!--]--> ./typescript/type.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/typescript/compile.md" class="" aria-label="./typescript/compile.md"><!--[--><!--]--> ./typescript/compile.md <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./base/typescript/oop.md" class="" aria-label="./typescript/oop.md"><!--[--><!--]--> ./typescript/oop.md <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/cjSound/front-kap.git" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="javascript" tabindex="-1"><a class="header-anchor" href="#javascript" aria-hidden="true">#</a> JavaScript</h1><h2 id="è¯´è¯´ä½ å¯¹ä½œç”¨åŸŸé“¾çš„ç†è§£" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´ä½ å¯¹ä½œç”¨åŸŸé“¾çš„ç†è§£" aria-hidden="true">#</a> è¯´è¯´ä½ å¯¹ä½œâ½¤åŸŸé“¾çš„ç†è§£</h2><ul><li>ä½œâ½¤åŸŸé“¾çš„ä½œâ½¤æ˜¯ä¿è¯æ‰§â¾ç¯å¢ƒâ¾¥æœ‰æƒè®¿é—®çš„å˜é‡å’Œå‡½æ•°æ˜¯æœ‰åºçš„ï¼Œä½œâ½¤åŸŸé“¾çš„å˜é‡åªèƒ½å‘ä¸Šè®¿é—®ï¼Œå˜é‡è®¿é—®åˆ° <strong>window</strong> å¯¹è±¡å³è¢«ç»ˆâ½Œï¼Œä½œâ½¤åŸŸé“¾å‘ä¸‹è®¿é—®å˜é‡æ˜¯ä¸è¢«å…è®¸çš„</li><li>ç®€å•çš„è¯´ï¼Œä½œâ½¤åŸŸå°±æ˜¯å˜é‡ä¸å‡½æ•°çš„å¯è®¿é—®èŒƒå›´ï¼Œå³ä½œâ½¤åŸŸæ§åˆ¶ç€å˜é‡ä¸å‡½æ•°çš„å¯â»…æ€§å’Œâ½£å‘½å‘¨æœŸ</li></ul><h2 id="javascriptåŸå‹-åŸå‹é“¾-æœ‰ä»€ä¹ˆç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#javascriptåŸå‹-åŸå‹é“¾-æœ‰ä»€ä¹ˆç‰¹ç‚¹" aria-hidden="true">#</a> JavaScriptåŸå‹ï¼ŒåŸå‹é“¾ ? æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ</h2><ul><li><p>æ¯ä¸ªå¯¹è±¡éƒ½ä¼šåœ¨å…¶å†…éƒ¨åˆå§‹åŒ–â¼€ä¸ªå±æ€§ï¼Œå°±æ˜¯ <strong>prototype</strong> (åŸå‹)ï¼Œå½“æˆ‘ä»¬è®¿é—®â¼€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶</p></li><li><p>å¦‚æœè¿™ä¸ªå¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆä»–å°±ä¼šå» <strong>prototype</strong> â¾¥æ‰¾è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ª <strong>prototype</strong> â¼œä¼šæœ‰â¾ƒâ¼°çš„ <strong>prototype</strong> ï¼Œäºæ˜¯å°±è¿™æ ·â¼€ç›´æ‰¾ä¸‹å»ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹³æ—¶æ‰€è¯´çš„åŸå‹é“¾çš„æ¦‚å¿µ</p></li><li><p>å…³ç³»ï¼š <code>instance.constructor.prototype = instance.__proto__</code></p></li><li><p>ç‰¹ç‚¹ï¼š</p><ul><li><strong>JavaScript</strong> å¯¹è±¡æ˜¯é€šè¿‡å¼•â½¤æ¥ä¼ é€’çš„ï¼Œæˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸ªæ–°å¯¹è±¡å®ä½“ä¸­å¹¶æ²¡æœ‰â¼€ä»½å±äºâ¾ƒâ¼°çš„åŸå‹å‰¯æœ¬ã€‚å½“æˆ‘ä»¬ä¿®æ”¹åŸå‹æ—¶ï¼Œä¸ä¹‹ç›¸å…³çš„å¯¹è±¡ä¹Ÿä¼šç»§æ‰¿è¿™â¼€æ”¹å˜</li></ul></li><li><p>å½“æˆ‘ä»¬éœ€è¦â¼€ä¸ªå±æ€§çš„æ—¶ï¼Œ <strong>Javascript</strong> å¼•æ“ä¼šå…ˆçœ‹å½“å‰å¯¹è±¡ä¸­æ˜¯å¦æœ‰è¿™ä¸ªå±æ€§ï¼Œ å¦‚æœæ²¡æœ‰çš„</p></li><li><p>å°±ä¼šæŸ¥æ‰¾ä»–çš„<strong>Prototype</strong> å¯¹è±¡æ˜¯å¦æœ‰è¿™ä¸ªå±æ€§ï¼Œå¦‚æ­¤é€’æ¨ä¸‹å»ï¼Œâ¼€ç›´æ£€ç´¢åˆ° <strong>Object</strong> å†…å»ºå¯¹è±¡</p></li></ul><h2 id="è¯·è§£é‡Šä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†" tabindex="-1"><a class="header-anchor" href="#è¯·è§£é‡Šä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†" aria-hidden="true">#</a> è¯·è§£é‡Šä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†</h2><ul><li>äº‹ä»¶ä»£ç†ï¼ˆ <strong>Event Delegation</strong> ï¼‰ï¼Œâ¼œç§°ä¹‹ä¸º<strong>äº‹ä»¶å§”æ‰˜</strong>ã€‚æ˜¯ JavaScript ä¸­å¸¸â½¤ç»‘å®šäº‹ä»¶çš„å¸¸â½¤æŠ€å·§ã€‚é¡¾åæ€ä¹‰ï¼Œâ€œäº‹ä»¶ä»£ç†â€å³æ˜¯<strong>æŠŠåŸæœ¬éœ€è¦ç»‘å®šçš„äº‹ä»¶å§”æ‰˜ç»™â½—å…ƒç´ ï¼Œè®©â½—å…ƒç´ æ‹…å½“äº‹ä»¶ç›‘å¬çš„èŒåŠ¡</strong>ã€‚</li><li>äº‹ä»¶ä»£ç†çš„åŸç†æ˜¯DOMå…ƒç´ çš„<strong>äº‹ä»¶å†’æ³¡</strong>ã€‚ä½¿â½¤äº‹ä»¶ä»£ç†çš„å¥½å¤„æ˜¯å¯ä»¥æâ¾¼æ€§èƒ½</li><li>å¯ä»¥â¼¤é‡èŠ‚çœå†…å­˜å â½¤ï¼Œ<strong>å‡å°‘äº‹ä»¶æ³¨å†Œ</strong>ï¼Œâ½å¦‚åœ¨ table ä¸Šä»£ç†æ‰€æœ‰ td çš„ click äº‹ä»¶å°±â¾®å¸¸æ£’</li><li>å¯ä»¥å®ç°å½“æ–°å¢â¼¦å¯¹è±¡æ—¶â½†éœ€å†æ¬¡å¯¹å…¶ç»‘å®š</li></ul><h2 id="äº‹ä»¶æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶æ¨¡å‹" aria-hidden="true">#</a> äº‹ä»¶æ¨¡å‹</h2><div class="custom-container tip"><p class="custom-container-title">äº‹ä»¶æ¨¡å‹</p><p>W3C ä¸­å®šä¹‰äº‹ä»¶çš„å‘â½£ç»å†ä¸‰ä¸ªé˜¶æ®µï¼š<strong>æ•è·é˜¶æ®µï¼ˆ capturing ï¼‰</strong>ã€<strong>â½¬æ ‡é˜¶æ®µ</strong> ï¼ˆ targetin ï¼‰ã€<strong>å†’æ³¡é˜¶æ®µï¼ˆ bubbling ï¼‰</strong></p></div><ul><li>å†’æ³¡å‹äº‹ä»¶ï¼šå½“ä½ ä½¿â½¤äº‹ä»¶å†’æ³¡æ—¶ï¼Œâ¼¦çº§å…ƒç´ å…ˆè§¦å‘ï¼Œâ½—çº§å…ƒç´ åè§¦å‘</li><li>æ•è·å‹äº‹ä»¶ï¼šå½“ä½ ä½¿â½¤äº‹ä»¶æ•è·æ—¶ï¼Œâ½—çº§å…ƒç´ å…ˆè§¦å‘ï¼Œâ¼¦çº§å…ƒç´ åè§¦å‘</li><li><strong>DOM</strong> äº‹ä»¶æµï¼šåŒæ—¶â½€æŒä¸¤ç§äº‹ä»¶æ¨¡å‹ï¼šæ•è·å‹äº‹ä»¶å’Œå†’æ³¡å‹äº‹ä»¶</li><li>é˜»â½Œå†’æ³¡ï¼šåœ¨ W3c ä¸­ï¼Œä½¿â½¤ <strong>stopPropagation()</strong> â½…æ³•ï¼›åœ¨IEä¸‹è®¾ç½® cancelBubble =true</li><li>é˜»â½Œæ•è·ï¼šé˜»â½Œäº‹ä»¶çš„é»˜è®¤â¾ä¸ºï¼Œä¾‹å¦‚ click - <code>&lt;a&gt; </code>åçš„è·³è½¬ã€‚åœ¨ W3c ä¸­ï¼Œä½¿â½¤ <strong>stopPropagation()</strong> â½…æ³•ï¼Œåœ¨ IE ä¸‹è®¾ç½® window.event.returnValue = false</li></ul><div class="demo-block demo-zh-CN demo-js" data-v-6cd9c49e><div class="demo-content" data-v-6cd9c49e><div class="" id="event" data-v-6cd9c49e><div class="item bubbParent"><button id="bubbling">äº‹ä»¶å†’æ³¡</button></div><div class="item bubbParent"><button id="stopBubb">é˜»æ­¢äº‹ä»¶å†’æ³¡</button></div><div class="item" id="capParent"><button id="cap">äº‹ä»¶æ•è·</button></div><div class="item" id="stopCapParent"><button id="stopCap">é˜»æ­¢äº‹ä»¶æ•è·</button></div></div></div><div class="meta" data-v-6cd9c49e><div class="description" data-v-6cd9c49e><p>äº‹ä»¶æ¨¡å‹</p>
</div><div class="code-content" data-v-6cd9c49e><pre v-pre><code><span class="token comment">&lt;!--
 * @Author: æ›¹æ·
 * @Date: 2022-06-02 15:46:12
 * @LastEditors: æ›¹æ·
 * @LastEditTime: 2022-06-07 16:03:22
 * @Description: äº‹ä»¶æ¨¡å‹
--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>event<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item bubbParent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bubbling<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>äº‹ä»¶å†’æ³¡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item bubbParent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stopBubb<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>é˜»æ­¢äº‹ä»¶å†’æ³¡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item  <span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>capParent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>äº‹ä»¶æ•è·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item <span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stopCapParent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stopCap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>é˜»æ­¢äº‹ä»¶æ•è·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> toRefs<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> _methods <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token function">initEvent</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initBubb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initCap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">stopBubb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">stopCap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/**
       * äº‹ä»¶å†’æ³¡
       */</span>
      <span class="token function">initBubb</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ğŸš€ ~ file: eventModal.vue ~ li '</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'bubbParent'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> el <span class="token keyword">of</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'bubbParent'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          el<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">çˆ¶èŠ‚ç‚¹</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">let</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'bubbling'</span><span class="token punctuation">)</span>
        dom<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'äº‹ä»¶å†’æ³¡ ä»ä¸‹å¾€ä¸Š'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/**
       * é˜»æ­¢äº‹ä»¶å†’æ³¡
       */</span>
      <span class="token function">stopBubb</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'stopBubb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'é˜»æ­¢äº‹ä»¶å†’æ³¡,çˆ¶èŠ‚ç‚¹äº‹ä»¶ä¸ä¼šå†è§¦å‘'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/**
       * äº‹ä»¶æ•è·
       */</span>
      <span class="token function">initCap</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'capParent'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">çˆ¶èŠ‚ç‚¹æ•è·</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'cap'</span><span class="token punctuation">)</span>
        dom<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'äº‹ä»¶æ•è· å­èŠ‚ç‚¹åå“åº”'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token doc-comment comment">/**
       * äº‹ä»¶æ•è·ï¼Œä¸å†å‘ä¸‹ä¼ é€’
       */</span>
      <span class="token function">stopCap</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'stopCapParent'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">çˆ¶èŠ‚ç‚¹æ•è·</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'stopCap'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'äº‹ä»¶æ•è·'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>


    <span class="token punctuation">}</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      _methods<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      data
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>less<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
<span class="token selector">.item</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre></div></div><div class="demo-block-control" style="width:unset;" data-v-6cd9c49e><i class="caret-bottom icon" data-v-6cd9c49e></i><span style="display:none;" data-v-6cd9c49e>æ˜¾ç¤ºä»£ç </span><span style="" class="copy-action" data-v-6cd9c49e>å¤åˆ¶ä»£ç </span><span style="display:none;" class="copy-action copy-action-success" data-v-6cd9c49e>å¤åˆ¶ä»£ç </span></div></div><h2 id="newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢" tabindex="-1"><a class="header-anchor" href="#newæ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢" aria-hidden="true">#</a> newæ“ä½œç¬¦å…·ä½“â¼²äº†ä»€ä¹ˆå‘¢?</h2><ul><li>åˆ›å»ºâ¼€ä¸ªç©ºå¯¹è±¡ï¼Œå¹¶ä¸” <strong>this</strong> å˜é‡å¼•â½¤è¯¥å¯¹è±¡ï¼ŒåŒæ—¶è¿˜ç»§æ‰¿äº†è¯¥å‡½æ•°çš„åŸå‹</li><li>å±æ€§å’Œâ½…æ³•è¢«åŠ â¼Šåˆ° <strong>this</strong> å¼•â½¤çš„å¯¹è±¡ä¸­</li><li>æ–°åˆ›å»ºçš„å¯¹è±¡ç”± <strong>this</strong> æ‰€å¼•â½¤ï¼Œå¹¶ä¸”æœ€åéšå¼çš„è¿”å› <strong>this</strong></li></ul><h2 id="ajaxåŸç†" tabindex="-1"><a class="header-anchor" href="#ajaxåŸç†" aria-hidden="true">#</a> AjaxåŸç†</h2><ul><li>Ajax çš„åŸç†ç®€å•æ¥è¯´æ˜¯åœ¨â½¤æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´åŠ äº†â€”ä¸ªä¸­é—´å±‚( <strong>AJAX</strong> å¼•æ“)ï¼Œé€šè¿‡ <strong>XmlHttpRequest</strong> å¯¹è±¡æ¥å‘æœåŠ¡å™¨å‘å¼‚æ­¥è¯·æ±‚ï¼Œä»æœåŠ¡å™¨è·å¾—æ•°æ®ï¼Œç„¶åâ½¤ <strong>javascript</strong> æ¥æ“ä½œ <strong>DOM</strong> â½½æ›´æ–°â»šâ¾¯ã€‚ä½¿â½¤æˆ·æ“ä½œä¸æœåŠ¡å™¨å“åº”å¼‚æ­¥åŒ–ã€‚è¿™å…¶ä¸­æœ€å…³é”®çš„â¼€æ­¥å°±æ˜¯ä»æœåŠ¡å™¨è·å¾—è¯·æ±‚æ•°æ®</li><li>Ajax çš„è¿‡ç¨‹åªæ¶‰åŠ <strong>JavaScript</strong> ã€ <strong>XMLHttpRequest</strong> å’Œ <strong>DOM</strong> ã€‚ XMLHttpRequest æ˜¯ajaxçš„æ ¸â¼¼æœºåˆ¶</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/** 1. åˆ›å»ºè¿æ¥ **/</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token doc-comment comment">/** 2. è¿æ¥æœåŠ¡å™¨ **/</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;get&#39;</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token doc-comment comment">/** 3. å‘é€è¯·æ±‚ **/</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token doc-comment comment">/** 4. æ¥å—è¯·æ±‚ **/</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">success</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/** false **/</span>
    fail <span class="token operator">&amp;&amp;</span> <span class="token function">fail</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="ajax-æœ‰é‚£äº›ä¼˜ç¼ºç‚¹" tabindex="-1"><a class="header-anchor" href="#ajax-æœ‰é‚£äº›ä¼˜ç¼ºç‚¹" aria-hidden="true">#</a> ajax æœ‰é‚£äº›ä¼˜ç¼ºç‚¹?</h3><ul><li>ä¼˜ç‚¹ï¼š <ul><li>é€šè¿‡å¼‚æ­¥æ¨¡å¼ï¼Œæå‡äº†â½¤æˆ·ä½“éªŒ.</li><li>ä¼˜åŒ–äº†æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“ï¼Œå‡å°‘ä¸å¿…è¦çš„æ•°æ®å¾€è¿”ï¼Œå‡å°‘äº†å¸¦å®½å â½¤.</li><li>Ajax åœ¨å®¢æˆ·ç«¯è¿â¾ï¼Œæ‰¿æ‹…äº†â¼€éƒ¨åˆ†æœ¬æ¥ç”±æœåŠ¡å™¨æ‰¿æ‹…çš„â¼¯ä½œï¼Œå‡å°‘äº†â¼¤â½¤æˆ·é‡ä¸‹çš„æœåŠ¡å™¨è´Ÿè½½ã€‚</li><li>Ajax å¯ä»¥å®ç°åŠ¨æ€ä¸åˆ·æ–°ï¼ˆå±€éƒ¨åˆ·æ–°ï¼‰</li></ul></li><li>ç¼ºç‚¹ï¼š <ul><li>å®‰å…¨é—®é¢˜ AJAX æš´éœ²äº†ä¸æœåŠ¡å™¨äº¤äº’çš„ç»†èŠ‚ã€‚</li><li>å¯¹æœç´¢å¼•æ“çš„â½€æŒâ½è¾ƒå¼±ã€‚</li><li>ä¸å®¹æ˜“è°ƒè¯•ã€‚</li></ul></li></ul><h2 id="å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜" aria-hidden="true">#</a> å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜?</h2><div class="custom-container tip"><p class="custom-container-title">åŒæº</p><p>â¾¸å…ˆäº†è§£ä¸‹æµè§ˆå™¨çš„åŒæºç­–ç•¥ åŒæºç­–ç•¥ /<strong>SOPï¼ˆSame origin policyï¼‰</strong> æ˜¯â¼€ç§çº¦å®šï¼Œç”±Netscapeå…¬å¸1995å¹´å¼•â¼Šæµè§ˆå™¨ï¼Œå®ƒæ˜¯æµè§ˆå™¨æœ€æ ¸â¼¼ä¹Ÿæœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œå¦‚æœç¼ºå°‘äº†åŒæºç­–ç•¥ï¼Œæµè§ˆå™¨å¾ˆå®¹æ˜“å—åˆ° <strong>XSS ã€ CSFR</strong> ç­‰æ”»å‡»ã€‚æ‰€è°“åŒæºæ˜¯æŒ‡&quot;<strong>åè®®+åŸŸå+ç«¯â¼</strong>&quot;ä¸‰è€…ç›¸åŒï¼Œå³ä¾¿ä¸¤ä¸ªä¸åŒçš„åŸŸåæŒ‡å‘åŒâ¼€ä¸ªipåœ°å€ï¼Œä¹Ÿâ¾®åŒæº</p></div><ul><li>é€šè¿‡jsonpè·¨åŸŸ</li></ul><blockquote><p>ä¸ºäº†ä¾¿äºå®¢æˆ·ç«¯ä½¿ç”¨æ•°æ®ï¼Œé€æ¸å½¢æˆäº†ä¸€ç§éæ­£å¼ä¼ è¾“åè®®ï¼Œäººä»¬æŠŠå®ƒç§°ä½œJSONPï¼Œè¯¥åè®®çš„ä¸€ä¸ªè¦ç‚¹å°±æ˜¯å…è®¸ç”¨æˆ·ä¼ é€’ä¸€ä¸ªcallbackå‚æ•°ç»™æœåŠ¡ç«¯ï¼Œç„¶åæœåŠ¡ç«¯è¿”å›æ•°æ®æ—¶ä¼šå°†è¿™ä¸ª<strong>callbackå‚æ•°ä½œä¸ºå‡½æ•°åæ¥åŒ…è£¹ä½JSONæ•°æ®</strong>ï¼Œè¿™æ ·å®¢æˆ·ç«¯å°±å¯ä»¥éšæ„å®šåˆ¶è‡ªå·±çš„å‡½æ•°æ¥è‡ªåŠ¨å¤„ç†è¿”å›æ•°æ®äº†ã€‚</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;script&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
script<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;text/javascript&#39;</span><span class="token punctuation">;</span>
<span class="token comment">// ä¼ å‚å¹¶æŒ‡å®šå›è°ƒæ‰§â¾å‡½æ•°ä¸ºonBack</span>
script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;http://www.....:8080/login?user=admin&amp;callback=onBack&#39;</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å›è°ƒæ‰§â¾å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">onBack</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token function">alert</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>nginxä»£ç†è·¨åŸŸ<div class="custom-container tip"><p class="custom-container-title">nginxè·¨åŸŸ</p><p>ä¾‹å¦‚ï¼š</p><ul><li>å‰ç«¯serverçš„åŸŸåä¸ºï¼šfe.server.com</li><li>åç«¯æœåŠ¡çš„åŸŸåä¸ºï¼šdev.server.com</li><li>ç°åœ¨æˆ‘åœ¨fe.server.comå¯¹dev.server.comå‘èµ·è¯·æ±‚ä¸€å®šä¼šå‡ºç°è·¨åŸŸã€‚</li><li>ç°åœ¨æˆ‘ä»¬åªéœ€è¦å¯åŠ¨ä¸€ä¸ªnginxæœåŠ¡å™¨ï¼Œå°†server_nameè®¾ç½®ä¸ºfe.server.com,ç„¶åè®¾ç½®ç›¸åº”çš„locationä»¥æ‹¦æˆªå‰ç«¯éœ€è¦è·¨åŸŸçš„è¯·æ±‚ï¼Œæœ€åå°†è¯·æ±‚ä»£ç†å›dev.server.comã€‚å¦‚ä¸‹é¢çš„é…ç½®ï¼š</li></ul></div><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span>       <span class="token number">80</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span>  fe.server.com</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">location</span> /api</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">proxy_pass</span> dev.server.com</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>è¿™æ ·å°±å¯ä»¥å®Œç¾ç»•è¿‡æµè§ˆå™¨çš„åŒæºç­–ç•¥äº†ã€‚ <ul><li>fe.server.comè®¿é—®nginxçš„fe.server.comå±äºåŒæºè®¿é—®ï¼Œè€Œ<strong>nginxå¯¹æœåŠ¡ç«¯è½¬å‘çš„è¯·æ±‚ä¸ä¼šè§¦å‘æµè§ˆå™¨çš„åŒæºç­–ç•¥</strong>ã€‚</li></ul></li><li>nodejsä¸­é—´ä»¶ä»£ç†è·¨åŸŸ <ul><li>åŸç†å¦‚åŒnginxä»£ç†è·¨åŸŸ ï¼Œé€šè¿‡nodeä»£ç†æœåŠ¡å™¨ï¼Œå°†è®¿é—®æµè§ˆå™¨æœ¬åœ°çš„æ¥å£è¯·æ±‚ï¼Œè½¬å‘åˆ°åç«¯æœåŠ¡å™¨ï¼Œ<strong>å¯¹æµè§ˆå™¨è€Œè¨€ï¼Œå±äºåŒæº</strong></li><li>ä»£ç†åŒ…<a href="https://github.com/chimurai/http-proxy-middleware" target="_blank" rel="noopener noreferrer">http-proxy-middleware<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;0.0.0.0&#39;</span><span class="token punctuation">,</span>
<span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
<span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//æœ¬åœ°æœåŠ¡æ¥å£åœ°å€</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://192.168.1.103:8080&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;^/api&#39;</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li><li>åç«¯åœ¨å¤´éƒ¨ä¿¡æ¯â¾¥â¾¯è®¾ç½®å®‰å…¨åŸŸå</li></ul><h2 id="â¤æ¨¡å—åŒ–å¼€å‘æ€ä¹ˆåš" tabindex="-1"><a class="header-anchor" href="#â¤æ¨¡å—åŒ–å¼€å‘æ€ä¹ˆåš" aria-hidden="true">#</a> â¤æ¨¡å—åŒ–å¼€å‘æ€ä¹ˆåšï¼Ÿ</h2><div class="custom-container tip"><p class="custom-container-title">æ¨¡å—åŒ–æ¦‚å¿µ</p><p>1ã€å¼€å‘è€…åªéœ€è¦å®ç°è‡ªå·±çš„åŠŸèƒ½é€»è¾‘å¹¶ä¸”ä¿è¯è‡ªå·±çš„æ ¸å¿ƒæ˜¯ç‹¬ç«‹çš„ï¼ŒåŒæ—¶æŠŠåˆ«äººéœ€è¦çš„åŠŸèƒ½ä»¥æ¥å£æ–¹å¼å…¬å¼€å‡ºå»ã€‚</p><p>2ã€æœ€<strong>ä½é™åº¦çš„è€¦åˆ</strong>å…³ç³»ï¼Œæœ€<strong>æ˜ç¡®çš„ç»„ä»¶ä¾èµ–å…³ç³»</strong>ï¼Œ<strong>æœ€é«˜æ‰©å±•æ€§</strong>çš„ç³»ç»Ÿä¼˜åŒ–ï¼Œæœ€ç†æƒ³åŒ–çš„å›¢é˜Ÿåä½œ</p><p>3ã€æ¨¡å—å°±æ˜¯å®ç°ç‰¹å®šåŠŸèƒ½çš„ä¸€ç»„æ–¹æ³•ã€‚åªè¦æŠŠä¸åŒçš„å‡½æ•°ï¼ˆä»¥åŠè®°å½•çŠ¶æ€çš„å˜é‡ï¼‰ç®€å•åœ°æ”¾åœ¨ä¸€èµ·ï¼Œå°±ç®—æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚</p></div><h3 id="_1ã€åŸå§‹å†™æ³•" tabindex="-1"><a class="header-anchor" href="#_1ã€åŸå§‹å†™æ³•" aria-hidden="true">#</a> 1ã€åŸå§‹å†™æ³•</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">m1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>ã€€ã€€<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">m2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>ã€€ã€€<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ä¸Šé¢çš„å‡½æ•°m1()å’Œm2()ï¼Œç»„æˆä¸€ä¸ªæ¨¡å—ã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œç›´æ¥è°ƒç”¨å°±è¡Œäº†ã€‚</p><p>è¿™ç§åšæ³•çš„ç¼ºç‚¹å¾ˆæ˜æ˜¾ï¼š&quot;æ±¡æŸ“&quot;äº†å…¨å±€å˜é‡ï¼Œæ— æ³•ä¿è¯ä¸ä¸å…¶ä»–æ¨¡å—å‘ç”Ÿå˜é‡åå†²çªï¼Œè€Œä¸”æ¨¡å—æˆå‘˜ä¹‹é—´çœ‹ä¸å‡ºç›´æ¥å…³ç³»ã€‚</p><h3 id="_2ã€å¯¹è±¡å†™æ³•" tabindex="-1"><a class="header-anchor" href="#_2ã€å¯¹è±¡å†™æ³•" aria-hidden="true">#</a> 2ã€å¯¹è±¡å†™æ³•</h3><p>ä¸ºäº†è§£å†³ä¸Šé¢çš„ç¼ºç‚¹ï¼Œå¯ä»¥æŠŠæ¨¡å—å†™æˆä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€æœ‰çš„æ¨¡å—æˆå‘˜éƒ½æ”¾åˆ°è¿™ä¸ªå¯¹è±¡é‡Œé¢ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> module1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
ã€€ã€€ã€€ã€€_count <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
ã€€ã€€ã€€ã€€<span class="token function-variable function">m1</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
ã€€ã€€ã€€ã€€<span class="token punctuation">}</span><span class="token punctuation">,</span>
ã€€ã€€ã€€ã€€<span class="token function-variable function">m2</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
ã€€ã€€ã€€ã€€<span class="token punctuation">}</span>ã€€ã€€
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ä¸Šé¢çš„å‡½æ•°m1()å’Œm2(ï¼‰ï¼Œéƒ½å°è£…åœ¨module1å¯¹è±¡é‡Œã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œå°±æ˜¯è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„å±æ€§ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module1<span class="token punctuation">.</span><span class="token function">m1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>ä½†æ˜¯ï¼Œè¿™æ ·çš„å†™æ³•ä¼šæš´éœ²æ‰€æœ‰æ¨¡å—æˆå‘˜ï¼Œå†…éƒ¨çŠ¶æ€å¯ä»¥è¢«å¤–éƒ¨æ”¹å†™ã€‚æ¯”å¦‚ï¼Œå¤–éƒ¨ä»£ç å¯ä»¥ç›´æ¥æ”¹å˜å†…éƒ¨è®¡æ•°å™¨çš„å€¼ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module1<span class="token punctuation">.</span>_count <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="_3ã€ç«‹å³æ‰§è¡Œå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_3ã€ç«‹å³æ‰§è¡Œå‡½æ•°" aria-hidden="true">#</a> 3ã€â½´å³æ‰§â¾å‡½æ•°</h3><p>ä½¿ç”¨&quot;ç«‹å³æ‰§è¡Œå‡½æ•°&quot;ï¼ˆImmediately-Invoked Function Expressionï¼ŒIIFEï¼‰ï¼Œå¯ä»¥è¾¾åˆ°ä¸æš´éœ²ç§æœ‰æˆå‘˜çš„ç›®çš„ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> module1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> _count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">m1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">m2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">m1</span> <span class="token operator">:</span> m1<span class="token punctuation">,</span>
    <span class="token literal-property property">m2</span> <span class="token operator">:</span> m2
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>ä½¿ç”¨ä¸Šé¢çš„å†™æ³•ï¼Œå¤–éƒ¨ä»£ç æ— æ³•è¯»å–å†…éƒ¨çš„_countå˜é‡</p></blockquote><p>module1å°±æ˜¯Javascriptæ¨¡å—çš„åŸºæœ¬å†™æ³•ã€‚ä¸‹é¢ï¼Œå†å¯¹è¿™ç§å†™æ³•è¿›è¡ŒåŠ å·¥ã€‚</p><h3 id="_4ã€æ”¾å¤§æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_4ã€æ”¾å¤§æ¨¡å¼" aria-hidden="true">#</a> 4ã€æ”¾å¤§æ¨¡å¼</h3><p>å¦‚æœä¸€ä¸ªæ¨¡å—å¾ˆå¤§ï¼Œå¿…é¡»åˆ†æˆå‡ ä¸ªéƒ¨åˆ†ï¼Œæˆ–è€…ä¸€ä¸ªæ¨¡å—éœ€è¦ç»§æ‰¿å¦ä¸€ä¸ªæ¨¡å—ï¼Œè¿™æ—¶å°±æœ‰å¿…è¦é‡‡ç”¨&quot;æ”¾å¤§æ¨¡å¼&quot;ï¼ˆaugmentationï¼‰ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> module1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> _count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">m1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> <span class="token function-variable function">m2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">m1</span> <span class="token operator">:</span> m1<span class="token punctuation">,</span>
    <span class="token literal-property property">m2</span> <span class="token operator">:</span> m2
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> module2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">mod</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
ã€€ã€€ã€€ã€€mod<span class="token punctuation">.</span><span class="token function-variable function">m3</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>ã€€ã€€ã€€ã€€<span class="token punctuation">}</span><span class="token punctuation">;</span>
ã€€ã€€ã€€ã€€<span class="token keyword">return</span> mod<span class="token punctuation">;</span>
ã€€ã€€<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>module1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>ä¸Šé¢çš„ä»£ç ä¸ºmodule1æ¨¡å—æ·»åŠ äº†ä¸€ä¸ªæ–°æ–¹æ³•m3()ï¼Œç„¶åè¿”å›æ–°çš„module1æ¨¡å—ã€‚</p><h2 id="es6è‡ªå¸¦import-exportå®ç°æ¨¡å—åŒ–" tabindex="-1"><a class="header-anchor" href="#es6è‡ªå¸¦import-exportå®ç°æ¨¡å—åŒ–" aria-hidden="true">#</a> ES6è‡ªå¸¦import/exportå®ç°æ¨¡å—åŒ–</h2><h2 id="å¼‚æ­¥åŠ è½½jsçš„æ–¹å¼æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥åŠ è½½jsçš„æ–¹å¼æœ‰å“ªäº›" aria-hidden="true">#</a> å¼‚æ­¥åŠ è½½JSçš„â½…å¼æœ‰å“ªäº›ï¼Ÿ</h2><ul><li>defer ï¼Œåªâ½€æŒ IE</li><li>async ï¼š</li><li>åˆ›å»º <strong>script</strong> ï¼Œæ’â¼Šåˆ° <strong>DOM</strong> ä¸­ï¼ŒåŠ è½½å®Œæ¯•å <strong>callBack</strong></li></ul><h2 id="ä½¿ç”¨-preload-prefetch-ä¼˜åŒ–ä½ çš„åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-preload-prefetch-ä¼˜åŒ–ä½ çš„åº”ç”¨" aria-hidden="true">#</a> ä½¿ç”¨ Preload/Prefetch ä¼˜åŒ–ä½ çš„åº”ç”¨</h2><p>åœ¨ç½‘ç»œè¯·æ±‚ä¸­ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨åˆ°æŸäº›èµ„æºæ¯”å¦‚ï¼šå›¾ç‰‡ï¼ŒJSï¼ŒCSS ç­‰ç­‰ï¼Œåœ¨æ‰§è¡Œä¹‹å‰æ€»éœ€è¦ç­‰å¾…èµ„æºçš„ä¸‹è½½ï¼Œå¦‚æœæˆ‘ä»¬èƒ½åšåˆ°<strong>é¢„å…ˆåŠ è½½èµ„æº</strong>ï¼Œé‚£åœ¨èµ„æºæ‰§è¡Œçš„æ—¶å€™å°±ä¸å¿…ç­‰å¾…ç½‘ç»œçš„å¼€é”€ï¼Œè¿™æ—¶å€™å°±è½®åˆ° <strong>preload</strong> å¤§æ˜¾èº«æ‰‹çš„æ—¶å€™äº†ã€‚</p><h3 id="preload-æå‰åŠ è½½" tabindex="-1"><a class="header-anchor" href="#preload-æå‰åŠ è½½" aria-hidden="true">#</a> preload æå‰åŠ è½½</h3><p>preload é¡¾åæ€ä¹‰å°±æ˜¯ä¸€ç§é¢„åŠ è½½çš„æ–¹å¼ï¼Œå®ƒé€šè¿‡å£°æ˜å‘æµè§ˆå™¨å£°æ˜ä¸€ä¸ªéœ€è¦æäº¤åŠ è½½çš„èµ„æºï¼Œå½“èµ„æºçœŸæ­£è¢«ä½¿ç”¨çš„æ—¶å€™ç«‹å³æ‰§è¡Œï¼Œå°±æ— éœ€ç­‰å¾…ç½‘ç»œçš„æ¶ˆè€—ã€‚</p><p>å®ƒå¯ä»¥é€šè¿‡ Link æ ‡ç­¾è¿›è¡Œåˆ›å»ºï¼š</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code> <span class="token comment">&lt;!-- ä½¿ç”¨ link æ ‡ç­¾é™æ€æ ‡è®°éœ€è¦é¢„åŠ è½½çš„èµ„æº --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/path/to/style.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>style<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/js/index.d9312d83.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>script<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

 <span class="token comment">&lt;!-- æˆ–ä½¿ç”¨è„šæœ¬åŠ¨æ€åˆ›å»ºä¸€ä¸ª link æ ‡ç­¾åæ’å…¥åˆ° head å¤´éƒ¨ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;link&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span>rel <span class="token operator">=</span> <span class="token string">&#39;preload&#39;</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span>as <span class="token operator">=</span> <span class="token string">&#39;style&#39;</span><span class="token punctuation">;</span>
link<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&#39;/path/to/style.css&#39;</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>å½“æµè§ˆå™¨è§£æåˆ°è¿™è¡Œä»£ç å°±ä¼šå»<strong>åŠ è½½ href ä¸­å¯¹åº”çš„èµ„æºä½†ä¸æ‰§è¡Œ</strong>ï¼Œå¾…åˆ°çœŸæ­£ä½¿ç”¨åˆ°çš„æ—¶å€™å†æ‰§è¡Œ</p><h3 id="prefetch-é¢„åˆ¤åŠ è½½" tabindex="-1"><a class="header-anchor" href="#prefetch-é¢„åˆ¤åŠ è½½" aria-hidden="true">#</a> prefetch é¢„åˆ¤åŠ è½½</h3><p>prefetch è·Ÿ preload ä¸åŒï¼Œå®ƒçš„ä½œç”¨æ˜¯å‘Šè¯‰æµè§ˆå™¨<strong>æœªæ¥å¯èƒ½ä¼šä½¿ç”¨åˆ°çš„æŸä¸ªèµ„æº</strong>ï¼Œæµè§ˆå™¨å°±ä¼šåœ¨é—²æ—¶å»åŠ è½½å¯¹åº”çš„èµ„æºï¼Œè‹¥èƒ½é¢„æµ‹åˆ°ç”¨æˆ·çš„è¡Œä¸ºï¼Œæ¯”å¦‚æ‡’åŠ è½½ï¼Œç‚¹å‡»åˆ°å…¶å®ƒé¡µé¢ç­‰åˆ™ç›¸å½“äºæå‰é¢„åŠ è½½äº†éœ€è¦çš„èµ„æºã€‚å®ƒçš„ç”¨æ³•è·Ÿ preload æ˜¯ä¸€æ ·çš„ï¼š</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- link æ¨¡å¼ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefetch<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/path/to/style.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>style<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/js/chunk-fad4f8fa.06c3e027.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefetch<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="å·®å¼‚" tabindex="-1"><a class="header-anchor" href="#å·®å¼‚" aria-hidden="true">#</a> å·®å¼‚</h3><p>preload æ˜¯å‘Šè¯‰æµè§ˆå™¨<strong>é¡µé¢å¿…å®šéœ€è¦çš„èµ„æº</strong>ï¼Œæµè§ˆå™¨ä¸€å®šä¼šåŠ è½½è¿™äº›èµ„æºï¼Œè€Œ prefetch æ˜¯å‘Šè¯‰æµè§ˆå™¨é¡µé¢<strong>å¯èƒ½éœ€è¦çš„èµ„æº</strong>ï¼Œæµè§ˆå™¨<strong>ä¸ä¸€å®šä¼šåŠ è½½è¿™äº›èµ„æº</strong>ã€‚æ‰€ä»¥å»ºè®®ï¼šå¯¹äºå½“å‰é¡µé¢å¾ˆæœ‰å¿…è¦çš„èµ„æºä½¿ç”¨ preloadï¼Œå¯¹äºå¯èƒ½åœ¨å°†æ¥çš„é¡µé¢ä¸­ä½¿ç”¨çš„èµ„æºä½¿ç”¨ prefetchã€‚</p><h2 id="â¤é‚£äº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼" tabindex="-1"><a class="header-anchor" href="#â¤é‚£äº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼" aria-hidden="true">#</a> â¤é‚£äº›æ“ä½œä¼šé€ æˆå†…å­˜æ³„æ¼ï¼Ÿ</h2><p>å½“ä¸€ä¸ªå¯¹è±¡å·²ç»ä¸éœ€è¦å†ä½¿ç”¨æœ¬è¯¥è¢«å›æ”¶æ—¶ï¼Œå¦å¤–ä¸€ä¸ªæ­£åœ¨ä½¿ç”¨çš„å¯¹è±¡æŒæœ‰å®ƒçš„å¼•ç”¨ä»è€Œå¯¼è‡´å®ƒä¸èƒ½è¢«å›æ”¶ï¼Œè¿™å¯¼è‡´æœ¬è¯¥è¢«å›æ”¶çš„å¯¹è±¡ä¸èƒ½è¢«å›æ”¶è€Œåœç•™åœ¨å †å†…å­˜ä¸­ï¼Œè¿™å°±äº§ç”Ÿäº†å†…å­˜æ³„æ¼</p><h3 id="æ„å¤–çš„å…¨å±€å˜é‡å¼•èµ·çš„å†…å­˜æ³„éœ²" tabindex="-1"><a class="header-anchor" href="#æ„å¤–çš„å…¨å±€å˜é‡å¼•èµ·çš„å†…å­˜æ³„éœ²" aria-hidden="true">#</a> æ„å¤–çš„å…¨å±€å˜é‡å¼•èµ·çš„å†…å­˜æ³„éœ²</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">leak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    leak<span class="token operator">=</span><span class="token string">&#39;xxx&#39;</span><span class="token punctuation">;</span><span class="token comment">//leakæˆä¸ºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œä¸ä¼šè¢«å›æ”¶</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><strong>setTimeout</strong> çš„ç¬¬â¼€ä¸ªå‚æ•°ä½¿â½¤å­—ç¬¦ä¸²â½½â¾®å‡½æ•°çš„è¯ï¼Œä¼šå¼•å‘å†…å­˜æ³„æ¼</li><li>é—­åŒ…ä½¿â½¤ä¸å½“</li></ul><h3 id="è¢«é—å¿˜çš„å®šæ—¶å™¨æˆ–è€…å›è°ƒ" tabindex="-1"><a class="header-anchor" href="#è¢«é—å¿˜çš„å®šæ—¶å™¨æˆ–è€…å›è°ƒ" aria-hidden="true">#</a> è¢«é—å¿˜çš„å®šæ—¶å™¨æˆ–è€…å›è°ƒ</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> someResource <span class="token operator">=</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;Node&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>someResource<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>è¿™æ ·çš„ä»£ç å¾ˆå¸¸è§, å¦‚æœidä¸ºNodeçš„å…ƒç´ ä»DOMä¸­ç§»é™¤, è¯¥å®šæ—¶å™¨ä»ä¼šå­˜åœ¨, åŒæ—¶, å› ä¸ºå›è°ƒå‡½æ•°ä¸­åŒ…å«å¯¹someResourceçš„å¼•ç”¨, å®šæ—¶å™¨å¤–é¢çš„someResourceä¹Ÿä¸ä¼šè¢«é‡Šæ”¾</p><h3 id="domæ³„æ¼" tabindex="-1"><a class="header-anchor" href="#domæ³„æ¼" aria-hidden="true">#</a> DOMæ³„æ¼</h3><p>åœ¨æµè§ˆå™¨ä¸­DOMå’ŒJSæ‰€é‡‡ç”¨çš„å¼•æ“æ˜¯ä¸ä¸€æ ·çš„ï¼ŒDOMé‡‡ç”¨çš„æ˜¯æ¸²æŸ“å¼•æ“ï¼Œè€ŒJSé‡‡ç”¨çš„æ˜¯v8å¼•æ“ï¼Œæ‰€ä»¥åœ¨ç”¨JSæ“ä½œDOMæ—¶ä¼šæ¯”è¾ƒè€—è´¹æ€§èƒ½ï¼Œæ‰€ä»¥ä¸ºäº†å‡å°‘DOMçš„æ“ä½œï¼Œæˆ‘ä»¬ä¼šé‡‡ç”¨å˜é‡å¼•ç”¨çš„æ–¹å¼ä¼šå°†å…¶ç¼“å­˜åœ¨å½“å‰ç¯å¢ƒã€‚å¦‚æœåœ¨è¿›è¡Œä¸€äº›åˆ é™¤ã€æ›´æ–°æ“ä½œä¹‹åï¼Œå¯èƒ½ä¼šå¿˜è®°é‡Šæ”¾å·²ç»ç¼“å­˜çš„DOMå› æ­¤é€ æˆäº†å†…å­˜æ³„æ¼</p><p>ä¾‹ï¼šå¯¹æ²¡æœ‰æ¸…ç†çš„DOMå…ƒç´ å¼•ç”¨</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> refA <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;refA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>refA<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// #refAä¸èƒ½å›æ”¶ï¼Œå› ä¸ºå­˜åœ¨å˜é‡refAå¯¹å®ƒçš„å¼•ç”¨ã€‚</span>
å°†å…¶å¯¹#refAå¼•ç”¨é‡Šæ”¾ï¼Œä½†è¿˜æ˜¯æ— æ³•å›æ”¶#refAã€‚
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>è§£å†³åŠæ³•ï¼šè®¾ç½®refA = null;</p><h2 id="xmlå’Œjsonçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#xmlå’Œjsonçš„åŒºåˆ«" aria-hidden="true">#</a> XMLå’ŒJSONçš„åŒºåˆ«ï¼Ÿ</h2><ul><li>æ•°æ®ä½“ç§¯â½…â¾¯ <ul><li>JSON ç›¸å¯¹ äºXML æ¥è®²ï¼Œæ•°æ®çš„<strong>ä½“ç§¯â¼©</strong>ï¼Œä¼ é€’çš„é€Ÿåº¦æ›´å¿«äº›ã€‚</li></ul></li><li>æ•°æ®äº¤äº’â½…â¾¯ <ul><li>JSON ä¸ JavaScript çš„äº¤äº’æ›´åŠ â½…ä¾¿ï¼Œæ›´å®¹æ˜“è§£æå¤„ç†ï¼Œæ›´å¥½çš„æ•°æ®äº¤äº’</li></ul></li><li>æ•°æ®æè¿°â½…â¾¯ <ul><li>JSON å¯¹æ•°æ®çš„æè¿°æ€§â½ XML è¾ƒå·®</li></ul></li><li>ä¼ è¾“é€Ÿåº¦â½…â¾¯ <ul><li>JSON çš„é€Ÿåº¦è¦è¿œè¿œå¿«äº XML</li></ul></li></ul><h2 id="â¤è°ˆè°ˆä½ å¯¹webpackçš„çœ‹æ³•" tabindex="-1"><a class="header-anchor" href="#â¤è°ˆè°ˆä½ å¯¹webpackçš„çœ‹æ³•" aria-hidden="true">#</a> â¤è°ˆè°ˆä½ å¯¹webpackçš„çœ‹æ³•</h2><ul><li>WebPack æ˜¯â¼€ä¸ªæ¨¡å—æ‰“åŒ…â¼¯å…·ï¼Œä½ å¯ä»¥ä½¿â½¤ WebPack ç®¡ç†ä½ çš„æ¨¡å—ä¾èµ–ï¼Œå¹¶ç¼–ç»è¾“å‡ºæ¨¡å—ä»¬æ‰€éœ€çš„é™æ€â½‚ä»¶ã€‚å®ƒèƒ½å¤Ÿå¾ˆå¥½åœ°ç®¡ç†ã€æ‰“åŒ… Web å¼€å‘ä¸­æ‰€â½¤åˆ°çš„ <strong>HTML ã€Javascript ã€ CSS</strong> ä»¥åŠå„ç§é™æ€â½‚ä»¶ï¼ˆå›¾â½šã€å­—ä½“ç­‰ï¼‰ï¼Œè®©å¼€å‘è¿‡ç¨‹æ›´åŠ â¾¼æ•ˆã€‚</li><li>å¯¹äºä¸åŒç±»å‹çš„èµ„æºï¼Œ webpack æœ‰å¯¹åº”çš„<strong>æ¨¡å—åŠ è½½å™¨loader</strong> ã€‚ webpack æ¨¡å—æ‰“åŒ…å™¨ä¼šåˆ†ææ¨¡å—é—´çš„ä¾èµ–å…³ç³»ï¼Œæœ€å â½£æˆäº†ä¼˜åŒ–ä¸”åˆå¹¶åçš„é™æ€èµ„æº</li></ul><h2 id="è¯´è¯´ä½ å¯¹amdå’Œcommonjsçš„ç†è§£" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´ä½ å¯¹amdå’Œcommonjsçš„ç†è§£" aria-hidden="true">#</a> è¯´è¯´ä½ å¯¹AMDå’ŒCommonjsçš„ç†è§£</h2><ul><li>CommonJS æ˜¯æœåŠ¡å™¨ç«¯æ¨¡å—çš„è§„èŒƒï¼Œ Node.js é‡‡â½¤äº†è¿™ä¸ªè§„èŒƒã€‚ CommonJS è§„èŒƒåŠ è½½æ¨¡å—æ˜¯<strong>åŒæ­¥</strong>çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åŠ è½½å®Œæˆï¼Œæ‰èƒ½æ‰§â¾åâ¾¯çš„æ“ä½œã€‚ AMD è§„èŒƒåˆ™æ˜¯<strong>â¾®åŒæ­¥åŠ è½½</strong>æ¨¡å—ï¼Œå…è®¸æŒ‡å®šå›è°ƒå‡½æ•°</li><li>AMD æ¨èçš„â»›æ ¼é€šè¿‡è¿”å›â¼€ä¸ªå¯¹è±¡åšä¸ºæ¨¡å—å¯¹è±¡ï¼Œ CommonJS çš„â»›æ ¼é€šè¿‡å¯¹<strong>module.exports æˆ– exports</strong> çš„å±æ€§èµ‹å€¼æ¥è¾¾åˆ°æš´éœ²æ¨¡å—å¯¹è±¡çš„â½¬çš„</li></ul><h2 id="â¤å¸¸â»…webå®‰å…¨åŠé˜²æŠ¤åŸç†" tabindex="-1"><a class="header-anchor" href="#â¤å¸¸â»…webå®‰å…¨åŠé˜²æŠ¤åŸç†" aria-hidden="true">#</a> â¤å¸¸â»…webå®‰å…¨åŠé˜²æŠ¤åŸç†</h2><h3 id="sql-æ³¨å…¥åŸç†" tabindex="-1"><a class="header-anchor" href="#sql-æ³¨å…¥åŸç†" aria-hidden="true">#</a> sql æ³¨â¼ŠåŸç†</h3><ul><li>å°±æ˜¯é€šè¿‡æŠŠ <strong>SQL</strong> å‘½ä»¤æ’â¼Šåˆ° <strong>Web</strong> è¡¨å•é€’äº¤æˆ–è¾“â¼ŠåŸŸåæˆ–â»šâ¾¯è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§â¾æ¶æ„çš„SQLå‘½ä»¤</li><li>æ€»çš„æ¥è¯´æœ‰ä»¥ä¸‹â¼ç‚¹ <ul><li>æ°¸è¿œä¸è¦ä¿¡ä»»â½¤æˆ·çš„è¾“â¼Šï¼Œè¦å¯¹â½¤æˆ·çš„è¾“â¼Šè¿›â¾æ ¡éªŒï¼Œå¯ä»¥é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ–é™åˆ¶â»“åº¦ï¼Œå¯¹å•<strong>å¼•å·å’ŒåŒ &quot;-&quot;</strong> è¿›â¾è½¬æ¢ç­‰</li><li>æ°¸è¿œä¸è¦ä½¿â½¤åŠ¨æ€æ‹¼è£…SQLï¼Œå¯ä»¥ä½¿â½¤å‚æ•°åŒ–çš„ SQL æˆ–è€…ç›´æ¥ä½¿â½¤å­˜å‚¨è¿‡ç¨‹è¿›â¾æ•°æ®æŸ¥è¯¢å­˜å–</li><li>æ°¸è¿œä¸è¦ä½¿â½¤ç®¡ç†å‘˜æƒé™çš„æ•°æ®åº“è¿æ¥ï¼Œä¸ºæ¯ä¸ªåº”â½¤ä½¿â½¤å•ç‹¬çš„æƒé™æœ‰é™çš„æ•°æ®åº“è¿æ¥</li><li>ä¸è¦æŠŠæœºå¯†ä¿¡æ¯æ˜â½‚å­˜æ”¾ï¼Œè¯·åŠ å¯†æˆ–è€… hash æ‰å¯†ç å’Œæ•æ„Ÿçš„ä¿¡æ¯</li></ul></li></ul><h3 id="xssåŸç†åŠé˜²èŒƒ" tabindex="-1"><a class="header-anchor" href="#xssåŸç†åŠé˜²èŒƒ" aria-hidden="true">#</a> XSSåŸç†åŠé˜²èŒƒ</h3><ul><li><strong>Xss(cross-site scripting)</strong> æ”»å‡»æŒ‡çš„æ˜¯æ”»å‡»è€…å¾€ Web â»šâ¾¯â¾¥æ’â¼Šæ¶æ„ html æ ‡ç­¾æˆ–è€… <strong>javascript</strong> ä»£ç ã€‚ å°±æ˜¯æ”»å‡»è€…æƒ³å°½â¼€åˆ‡åŠæ³•å°†å¯ä»¥æ‰§â¾çš„ä»£ç æ³¨â¼Šåˆ°â½¹â»šä¸­ã€‚</li><li>XSS å¯ä»¥åˆ†ä¸ºå¤šç§ç±»å‹ï¼Œä½†æ˜¯æ€»ä½“ä¸Šæˆ‘è®¤ä¸ºåˆ†ä¸ºä¸¤ç±»ï¼š<strong>æŒä¹…å‹å’Œâ¾®æŒä¹…å‹</strong>ã€‚ <ul><li>æŒä¹…å‹ä¹Ÿå°±æ˜¯æ”»å‡»çš„ä»£ç è¢«æœåŠ¡ç«¯å†™â¼Šè¿›<strong>æ•°æ®åº“</strong>ä¸­ï¼Œè¿™ç§æ”»å‡»å±å®³æ€§å¾ˆâ¼¤ï¼Œå› ä¸ºå¦‚æœâ½¹ç«™è®¿é—®é‡å¾ˆâ¼¤çš„è¯ï¼Œå°±ä¼šå¯¼è‡´â¼¤é‡æ­£å¸¸è®¿é—®â»šâ¾¯çš„â½¤æˆ·éƒ½å—åˆ°æ”»å‡»ã€‚</li></ul></li></ul><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>ä¸¾ä¸ªä¾‹â¼¦ï¼Œå¯¹äºè¯„è®ºåŠŸèƒ½æ¥è¯´ï¼Œå°±å¾—é˜²èŒƒæŒä¹…å‹ XSS æ”»å‡»ï¼Œå› ä¸ºæˆ‘å¯ä»¥åœ¨è¯„è®ºä¸­è¾“â¼Šä»¥ä¸‹å†…å®¹</p></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>æˆ–è€…<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;./xss.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>è¿™ç§æƒ…å†µå¦‚æœå‰åç«¯æ²¡æœ‰åšå¥½é˜²å¾¡çš„è¯ï¼Œè¿™æ®µè¯„è®ºå°±ä¼šè¢«å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œè¿™æ ·æ¯ä¸ªæ‰“å¼€è¯¥â»šâ¾¯çš„â½¤æˆ·éƒ½ä¼šè¢«æ”»å‡»åˆ°ã€‚</li><li>â¾®æŒä¹…å‹ç›¸â½äºå‰è€…å±å®³å°±â¼©çš„å¤šäº†ï¼Œâ¼€èˆ¬é€šè¿‡ä¿®æ”¹ URL å‚æ•°çš„â½…å¼åŠ â¼Šæ”»å‡»ä»£ç ï¼Œè¯±å¯¼â½¤æˆ·è®¿é—®é“¾æ¥ä»â½½è¿›â¾æ”»å‡»ã€‚</li></ul><div class="custom-container tip"><p class="custom-container-title">â¾®æŒä¹…å‹XSS</p><p>ä¸¾ä¸ªä¾‹â¼¦ï¼Œå¦‚æœâ»šâ¾¯éœ€è¦ä» <strong>URL</strong> ä¸­è·å–æŸäº›å‚æ•°ä½œä¸ºå†…å®¹çš„è¯ï¼Œä¸ç»è¿‡è¿‡æ»¤å°±ä¼šå¯¼è‡´æ”»å‡»ä»£ç è¢«æ‰§â¾</p></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>com<span class="token operator">?</span>name<span class="token operator">=</span><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> 
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>ä½†æ˜¯å¯¹äºè¿™ç§æ”»å‡»â½…å¼æ¥è¯´ï¼Œå¦‚æœâ½¤æˆ·ä½¿â½¤ <strong>Chrome</strong> è¿™ç±»æµè§ˆå™¨çš„è¯ï¼Œæµè§ˆå™¨å°±èƒ½â¾ƒåŠ¨å¸®åŠ©â½¤æˆ·é˜²å¾¡æ”»å‡»ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸èƒ½å› æ­¤å°±ä¸é˜²å¾¡æ­¤ç±»æ”»å‡»äº†ï¼Œå› ä¸ºæˆ‘ä¸èƒ½ç¡®ä¿â½¤æˆ·éƒ½ä½¿â½¤äº†è¯¥ç±»æµè§ˆå™¨ã€‚</p></div><h3 id="xssé˜²èŒƒæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#xssé˜²èŒƒæ–¹æ³•" aria-hidden="true">#</a> XSSé˜²èŒƒâ½…æ³•</h3><p>å¯¹äº XSS æ”»å‡»æ¥è¯´ï¼Œé€šå¸¸æœ‰ä¸¤ç§â½…å¼å¯ä»¥â½¤æ¥é˜²å¾¡ã€‚</p><ul><li>â¾¸å…ˆä»£ç â¾¥å¯¹â½¤æˆ·è¾“â¼Šçš„åœ°â½…å’Œå˜é‡éƒ½éœ€è¦ä»”ç»†æ£€æŸ¥â»“åº¦å’Œå¯¹ <strong>â€&lt;â€,â€&gt;â€,â€;â€,â€â€™â€</strong> ç­‰å­—ç¬¦åšè¿‡æ»¤ï¼›å…¶æ¬¡ä»»ä½•å†…å®¹å†™åˆ°â»šâ¾¯ä¹‹å‰éƒ½å¿…é¡»åŠ ä»¥encodeï¼Œé¿å…ä¸â¼©â¼¼æŠŠ <strong>html tag</strong> å¼„å‡ºæ¥ã€‚è¿™â¼€ä¸ªå±‚â¾¯åšå¥½ï¼Œâ¾„å°‘å¯ä»¥å µä½è¶…è¿‡â¼€åŠçš„XSS æ”»å‡»</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">escape</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&amp;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;amp;&#39;</span><span class="token punctuation">)</span>
    str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;lt;&#39;</span><span class="token punctuation">)</span>
    str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;gt;&#39;</span><span class="token punctuation">)</span>
    str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&quot;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;quto;&#39;</span><span class="token punctuation">)</span>
    str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&#39;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;#39;&#39;</span><span class="token punctuation">)</span>
    str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">`</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;#96;&#39;</span><span class="token punctuation">)</span>
    str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&amp;#x2F;&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> str
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//é€šè¿‡è½¬ä¹‰å¯ä»¥å°†æ”»å‡»ä»£ç  &lt;script&gt;alert(1)&lt;/script&gt; å˜æˆ</span>
<span class="token comment">// -&gt; &amp;lt;script&amp;gt;alert(1)&amp;lt;&amp;#x2F;script&amp;gt;</span>
<span class="token function">escape</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;script&gt;alert(1)&lt;/script&gt;&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">å¯Œæ–‡æœ¬</p><p>ä½†æ˜¯å¯¹äºæ˜¾ç¤ºå¯Œâ½‚æœ¬æ¥è¯´ï¼Œæ˜¾ç„¶ä¸èƒ½é€šè¿‡ä¸Šâ¾¯çš„åŠæ³•æ¥è½¬ä¹‰æ‰€æœ‰å­—ç¬¦ï¼Œå› ä¸ºè¿™æ ·ä¼šæŠŠéœ€è¦çš„æ ¼å¼ä¹Ÿè¿‡æ»¤æ‰ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œé€šå¸¸é‡‡â½¤â½©åå•è¿‡æ»¤çš„åŠæ³•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡â¿Šåå•è¿‡æ»¤ï¼Œ ä½†æ˜¯è€ƒè™‘åˆ°éœ€è¦è¿‡æ»¤çš„æ ‡ç­¾å’Œæ ‡ç­¾å±æ€§å®åœ¨å¤ªå¤šï¼Œæ›´åŠ æ¨èä½¿â½¤â½©åå•çš„â½…å¼</p></div><ul><li>ä¾‹ä½¿â½¤äº† <strong>js-xss</strong> æ¥å®ç°</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> xss <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;xss&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> html <span class="token operator">=</span> <span class="token function">xss</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;h1 id=&quot;title&quot;&gt;XSS Demo&lt;/h1&gt;&lt;script&gt;alert(&quot;xss&quot;);&lt;/script&gt;&lt;/h1&gt;&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// -&gt; &lt;h1&gt;XSS Demo&lt;/h1&gt;&amp;lt;script&amp;gt;alert(&quot;xss&quot;);&amp;lt;/script&amp;gt&lt;/h1&gt;;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="csrf" tabindex="-1"><a class="header-anchor" href="#csrf" aria-hidden="true">#</a> CSRF</h3><div class="custom-container tip"><p class="custom-container-title">CSRF</p><p><strong>CSRF</strong> ä¸­â½‚åä¸ºè·¨ç«™è¯·æ±‚ä¼ªé€ ã€‚åŸç†å°±æ˜¯æ”»å‡»è€…æ„é€ å‡ºâ¼€ä¸ªåç«¯è¯·æ±‚åœ°å€ï¼Œ<strong>è¯±å¯¼â½¤æˆ·ç‚¹å‡»æˆ–è€…é€šè¿‡æŸäº›é€”å¾„â¾ƒåŠ¨å‘èµ·è¯·æ±‚</strong>ã€‚å¦‚æœâ½¤æˆ·æ˜¯åœ¨ç™»å½•çŠ¶æ€ä¸‹çš„è¯ï¼Œåç«¯å°±ä»¥ä¸ºæ˜¯â½¤æˆ·åœ¨æ“ä½œï¼Œä»â½½è¿›â¾ç›¸åº”çš„é€»è¾‘ã€‚</p></div><p>ç½‘ç«™æ˜¯é€šè¿‡cookieæ¥å®ç°ç™»å½•åŠŸèƒ½çš„ã€‚è€Œcookieåªè¦å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œé‚£ä¹ˆæµè§ˆå™¨åœ¨è®¿é—®è¿™ä¸ªcookieçš„æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨çš„æºå¸¦cookieä¿¡æ¯åˆ°æœåŠ¡å™¨ä¸Šå»ã€‚é‚£ä¹ˆè¿™æ—¶å€™å°±å­˜åœ¨ä¸€ä¸ªæ¼æ´äº†ï¼Œå¦‚æœä½ è®¿é—®äº†ä¸€ä¸ªåˆ«æœ‰ç”¨å¿ƒæˆ–ç—…æ¯’ç½‘ç«™ï¼Œè¿™ä¸ªç½‘ç«™å¯ä»¥åœ¨ç½‘é¡µæºä»£ç ä¸­æ’å…¥jsä»£ç ï¼Œä½¿ç”¨jsä»£ç ç»™å…¶ä»–æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ˆæ¯”å¦‚ICBCçš„è½¬è´¦è¯·æ±‚ï¼‰ã€‚é‚£ä¹ˆå› ä¸ºåœ¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨çš„æŠŠcookieå‘é€ç»™å¯¹åº”çš„æœåŠ¡å™¨ï¼Œè¿™æ—¶å€™ç›¸åº”çš„æœåŠ¡å™¨ï¼ˆæ¯”å¦‚ICBCç½‘ç«™ï¼‰ï¼Œå°±ä¸çŸ¥é“è¿™ä¸ªè¯·æ±‚æ˜¯ä¼ªé€ çš„ï¼Œå°±è¢«æ¬ºéª—è¿‡å»äº†ã€‚ä»è€Œè¾¾åˆ°åœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œç»™æŸä¸ªæœåŠ¡å™¨å‘é€äº†ä¸€ä¸ªè¯·æ±‚ï¼ˆæ¯”å¦‚è½¬è´¦ï¼‰ã€‚</p><ul><li><strong>ç¤ºä¾‹</strong> å‡è®¾â½¹ç«™ä¸­æœ‰â¼€ä¸ªé€šè¿‡ <strong>GET</strong> è¯·æ±‚æäº¤â½¤æˆ·è¯„è®ºçš„æ¥â¼ï¼Œé‚£ä¹ˆæ”»å‡»è€…å°±å¯ä»¥åœ¨é’“â»¥â½¹ç«™ä¸­åŠ â¼Šâ¼€ä¸ªå›¾â½šï¼Œå›¾â½šçš„åœ°å€å°±æ˜¯è¯„è®ºæ¥â¼</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;http://www.domain.com/xxx?comment=&#39;attack&#39;&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>é‚£ä¹ˆä½ æ˜¯å¦ä¼šæƒ³åˆ°ä½¿â½¤ <strong>POST</strong> â½…å¼æäº¤è¯·æ±‚æ˜¯ä¸æ˜¯å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜äº†å‘¢ï¼Ÿå…¶å®å¹¶ä¸æ˜¯ï¼Œä½¿â½¤è¿™ç§â½…å¼ä¹Ÿä¸æ˜¯ç™¾åˆ†ç™¾å®‰å…¨çš„ï¼Œæ”»å‡»è€…åŒæ ·å¯ä»¥è¯±å¯¼â½¤æˆ·è¿›â¼ŠæŸä¸ªâ»šâ¾¯ï¼Œåœ¨â»šâ¾¯ä¸­é€šè¿‡è¡¨å•æäº¤ POST è¯·æ±‚ã€‚</p><h3 id="csrfçš„é˜²å¾¡" tabindex="-1"><a class="header-anchor" href="#csrfçš„é˜²å¾¡" aria-hidden="true">#</a> CSRFçš„é˜²å¾¡</h3><ul><li><strong>Get</strong> è¯·æ±‚ä¸å¯¹æ•°æ®è¿›â¾ä¿®æ”¹</li><li>ä¸è®©ç¬¬ä¸‰â½…â½¹ç«™è®¿é—®åˆ°â½¤æˆ· <strong>Cookie</strong></li><li>é˜»â½Œ<strong>ç¬¬ä¸‰â½…â½¹ç«™</strong>è¯·æ±‚æ¥â¼,é€šè¿‡CSOR</li><li>è¯·æ±‚æ—¶é™„å¸¦éªŒè¯ä¿¡æ¯ï¼Œâ½å¦‚éªŒè¯ç æˆ–è€… <strong>Token</strong></li></ul><h3 id="xssä¸csrfæœ‰ä»€ä¹ˆåŒºåˆ«å—" tabindex="-1"><a class="header-anchor" href="#xssä¸csrfæœ‰ä»€ä¹ˆåŒºåˆ«å—" aria-hidden="true">#</a> XSSä¸CSRFæœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ</h3><ul><li><strong>XSS</strong> æ˜¯è·å–ä¿¡æ¯ï¼Œä¸éœ€è¦æå‰çŸ¥é“å…¶ä»–â½¤æˆ·â»šâ¾¯çš„ä»£ç å’Œæ•°æ®åŒ…ã€‚</li><li><strong>CSRF</strong> æ˜¯ä»£æ›¿â½¤æˆ·å®ŒæˆæŒ‡å®šçš„åŠ¨ä½œï¼Œéœ€è¦çŸ¥é“å…¶ä»–â½¤æˆ·â»šâ¾¯çš„ä»£ç å’Œæ•°æ®åŒ…ã€‚è¦å®Œæˆâ¼€æ¬¡ CSRF æ”»å‡»ï¼Œå—å®³è€…å¿…é¡»ä¾æ¬¡å®Œæˆä¸¤ä¸ªæ­¥éª¤</li><li>ç™»å½•å—ä¿¡ä»»â½¹ç«™ A ï¼Œå¹¶åœ¨æœ¬åœ°â½£æˆ Cookie</li><li>åœ¨ä¸ç™»å‡º A çš„æƒ…å†µä¸‹ï¼Œè®¿é—®å±é™©â½¹ç«™ B</li></ul><h2 id="â¤è®¾è®¡æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#â¤è®¾è®¡æ¨¡å¼" aria-hidden="true">#</a> â¤è®¾è®¡æ¨¡å¼</h2><h3 id="å·¥å‚æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#å·¥å‚æ¨¡å¼" aria-hidden="true">#</a> å·¥å‚æ¨¡å¼</h3><p>ç”±ä¸€ä¸ªå·¥å‚å¯¹è±¡å†³å®šåˆ›å»ºæŸä¸€ç§äº§å“å¯¹è±¡ç±»çš„å®ä¾‹ï¼Œä¸»è¦ç”¨æ¥<strong>åˆ›å»ºåŒä¸€ç±»å¯¹è±¡</strong></p><div class="demo-block demo-zh-CN demo-js" data-v-6cd9c49e><div class="demo-content" data-v-6cd9c49e><div data-v-6cd9c49e>{
  &quot;superAdmin&quot;: {
    &quot;name&quot;: &quot;è¶…çº§ç®¡ç†å‘˜&quot;,
    &quot;viewPage&quot;: [
      &quot;é¦–é¡µ&quot;,
      &quot;ç”¨æˆ·ç®¡ç†&quot;,
      &quot;è®¢å•ç®¡ç†&quot;,
      &quot;åº”ç”¨ç®¡ç†&quot;,
      &quot;æƒé™ç®¡ç†&quot;
    ]
  },
  &quot;admin&quot;: {
    &quot;name&quot;: &quot;ç®¡ç†å‘˜&quot;,
    &quot;viewPage&quot;: [
      &quot;é¦–é¡µ&quot;,
      &quot;è®¢å•ç®¡ç†&quot;,
      &quot;åº”ç”¨ç®¡ç†&quot;
    ]
  },
  &quot;normalUser&quot;: {
    &quot;name&quot;: &quot;æ™®é€šç”¨æˆ·&quot;,
    &quot;viewPage&quot;: [
      &quot;é¦–é¡µ&quot;,
      &quot;è®¢å•ç®¡ç†&quot;
    ]
  }
}</div></div><div class="meta" data-v-6cd9c49e><div class="description" data-v-6cd9c49e><p>å·¥å‚æ¨¡å¼</p>
</div><div class="code-content" data-v-6cd9c49e><pre v-pre><code><span class="token comment">&lt;!--
 * @Author: æ›¹æ·
 * @Date: 2022-06-08 10:00:42
 * @LastEditors: æ›¹æ·
 * @LastEditTime: 2022-06-08 10:05:19
 * @Description: å·¥å‚æ¨¡å¼
--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    {{data}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token function-variable function">UserFactory</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">role</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> create <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">superAdmin</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'è¶…çº§ç®¡ç†å‘˜'</span><span class="token punctuation">,</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>viewPage <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'é¦–é¡µ'</span><span class="token punctuation">,</span> <span class="token string">'ç”¨æˆ·ç®¡ç†'</span><span class="token punctuation">,</span> <span class="token string">'è®¢å•ç®¡ç†'</span><span class="token punctuation">,</span> <span class="token string">'åº”ç”¨ç®¡ç†'</span><span class="token punctuation">,</span> <span class="token string">'æƒé™ç®¡ç†'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">admin</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'ç®¡ç†å‘˜'</span><span class="token punctuation">,</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>viewPage <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'é¦–é¡µ'</span><span class="token punctuation">,</span> <span class="token string">'è®¢å•ç®¡ç†'</span><span class="token punctuation">,</span> <span class="token string">'åº”ç”¨ç®¡ç†'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">normaluser</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'æ™®é€šç”¨æˆ·'</span><span class="token punctuation">,</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>viewPage <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'é¦–é¡µ'</span><span class="token punctuation">,</span> <span class="token string">'è®¢å•ç®¡ç†'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>create<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>role<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">create</span><span class="token punctuation">[</span>role<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">å‚æ•°é”™è¯¯,å¯é€‰å‚æ•°</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>create<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> superAdmin <span class="token operator">=</span> <span class="token function">UserFactory</span><span class="token punctuation">(</span><span class="token string">'superAdmin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> admin <span class="token operator">=</span> <span class="token function">UserFactory</span><span class="token punctuation">(</span><span class="token string">'admin'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> normalUser <span class="token operator">=</span> <span class="token function">UserFactory</span><span class="token punctuation">(</span><span class="token string">'normaluser'</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> superAdmin<span class="token punctuation">,</span> admin<span class="token punctuation">,</span> normalUser <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre></div></div><div class="demo-block-control" style="width:unset;" data-v-6cd9c49e><i class="caret-bottom icon" data-v-6cd9c49e></i><span style="display:none;" data-v-6cd9c49e>æ˜¾ç¤ºä»£ç </span><span style="" class="copy-action" data-v-6cd9c49e>å¤åˆ¶ä»£ç </span><span style="display:none;" class="copy-action copy-action-success" data-v-6cd9c49e>å¤åˆ¶ä»£ç </span></div></div><ul><li><p>æ€»ç»“ï¼š</p><ul><li>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒUserFactoryå°±æ˜¯ä¸€ä¸ªç®€å•å·¥å‚ï¼Œåœ¨è¯¥å‡½æ•°ä¸­æœ‰3ä¸ªæ„é€ å‡½æ•°åˆ†åˆ«å¯¹åº”ä¸åŒçš„æƒé™çš„ç”¨æˆ·ï¼Œå½“æˆ‘ä»¬è°ƒç”¨å·¥å‚å‡½æ•°æ—¶ï¼Œåªéœ€è¦ä¼ é€’superAdmin, admin, userè¿™ä¸‰ä¸ªå¯é€‰å‚æ•°ä¸­çš„ä¸€ä¸ªè·å–å¯¹åº”çš„å®ä¾‹å¯¹è±¡</li></ul></li><li><p>ä¼˜ç‚¹ï¼š</p><ul><li>ç®€å•å·¥å‚çš„ä¼˜ç‚¹åœ¨äºï¼Œä½ åªéœ€è¦ä¸€ä¸ªæ­£ç¡®çš„å‚æ•°ï¼Œå°±å¯ä»¥è·å–åˆ°ä½ æ‰€éœ€è¦çš„å¯¹è±¡ï¼Œè€Œæ— éœ€çŸ¥é“å…¶åˆ›å»ºçš„å…·ä½“ç»†èŠ‚;</li><li>é€šè¿‡æ–¹æ³•æ˜ å°„åˆå§‹åŒ–ï¼Œæ–¹ä¾¿æ‰©å±•æ›´å¤šçš„ç±»å‹</li></ul></li></ul><h3 id="â¤å•ä¾‹æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#â¤å•ä¾‹æ¨¡å¼" aria-hidden="true">#</a> â¤å•ä¾‹æ¨¡å¼</h3><ul><li>å®šä¹‰ï¼šæ˜¯<strong>ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹</strong>ã€‚</li><li>éœ€æ±‚ï¼šä¸€äº›å¯¹è±¡æˆ‘ä»¬å¾€å¾€åªéœ€è¦ä¸€ä¸ªï¼Œæ¯”å¦‚çº¿ç¨‹æ± ã€<strong>å…¨å±€ç¼“å­˜</strong>ã€<strong>å…¬å…±å…¨å±€å¯¹è±¡</strong>ã€æµè§ˆå™¨ä¸­çš„windowå¯¹è±¡ã€ç™»å½•æµ®çª—ç­‰ã€‚</li><li>å®ç°ï¼šç”¨ä¸€ä¸ªå˜é‡æ ‡è¯†å½“å‰æ˜¯å¦å·²ç»ä¸ºæŸä¸ªç±»åˆ›å»ºè¿‡å¯¹è±¡ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™åœ¨ä¸‹ä¸€æ¬¡è·å–è¿™ä¸ªç±»çš„å®ä¾‹æ—¶ï¼Œç›´æ¥è¿”å›ä¹‹å‰åˆ›å»ºçš„å¯¹è±¡ã€‚</li><li>ä¼˜ç‚¹ï¼š <ul><li>å¯ä»¥ç”¨æ¥åˆ’åˆ†å‘½åç©ºé—´ï¼Œå‡å°‘å…¨å±€å˜é‡çš„æ•°é‡</li><li>å¯ä»¥è¢«å®ä¾‹åŒ–ï¼Œä¸”å®ä¾‹åŒ–ä¸€æ¬¡ï¼Œå†æ¬¡å®ä¾‹åŒ–ç”Ÿæˆçš„ä¹Ÿæ˜¯ç¬¬ä¸€ä¸ªå®ä¾‹</li></ul></li></ul><div class="demo-block demo-zh-CN demo-js" data-v-6cd9c49e><div class="demo-content" data-v-6cd9c49e><div data-v-6cd9c49e>{
  &quot;data&quot;: {
    &quot;name&quot;: &quot;å•å‡ºå¼•ç”¨æ”¹å˜ï¼Œå…¨å±€éƒ½å˜&quot;,
    &quot;desc&quot;: &quot;æ‰€æœ‰å±æ€§å…¨å±€å”¯ä¸€&quot;
  },
  &quot;data1&quot;: {
    &quot;name&quot;: &quot;å•å‡ºå¼•ç”¨æ”¹å˜ï¼Œå…¨å±€éƒ½å˜&quot;,
    &quot;desc&quot;: &quot;æ‰€æœ‰å±æ€§å…¨å±€å”¯ä¸€&quot;
  }
}</div></div><div class="meta" data-v-6cd9c49e><div class="description" data-v-6cd9c49e><p>å•ä¾‹æ¨¡å¼</p>
</div><div class="code-content" data-v-6cd9c49e><pre v-pre><code><span class="token comment">&lt;!--
 * @Author: æ›¹æ·
 * @Date: 2022-06-08 10:00:42
 * @LastEditors: æ›¹æ·
 * @LastEditTime: 2022-06-08 10:14:11
 * @Description: å•ä¾‹æ¨¡å¼
--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    {{data}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> GloabData <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> instance
      <span class="token doc-comment comment">/**
       * è¦åˆ›å»ºçš„å®ä¾‹
       */</span>
      <span class="token keyword">function</span> <span class="token function">Construct</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'å•ä¾‹'</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>desc <span class="token operator">=</span> <span class="token string">'æ‰€æœ‰å±æ€§å…¨å±€å”¯ä¸€'</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">function</span> <span class="token function">getInstance</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>instance <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        getInstance
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> data <span class="token operator">=</span> GloabData<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'å•å‡ºå¼•ç”¨æ”¹å˜ï¼Œå…¨å±€éƒ½å˜'</span>
    <span class="token keyword">let</span> data1 <span class="token operator">=</span> GloabData<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> data1 <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre></div></div><div class="demo-block-control" style="width:unset;" data-v-6cd9c49e><i class="caret-bottom icon" data-v-6cd9c49e></i><span style="display:none;" data-v-6cd9c49e>æ˜¾ç¤ºä»£ç </span><span style="" class="copy-action" data-v-6cd9c49e>å¤åˆ¶ä»£ç </span><span style="display:none;" class="copy-action copy-action-success" data-v-6cd9c49e>å¤åˆ¶ä»£ç </span></div></div><h3 id="è§‚å¯Ÿè€…æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#è§‚å¯Ÿè€…æ¨¡å¼" aria-hidden="true">#</a> è§‚å¯Ÿè€…æ¨¡å¼</h3><p>è§‚å¯Ÿè€…æ¨¡å¼åˆå«åšå‘å¸ƒâ€”è®¢é˜…æ¨¡å¼ã€‚</p><ul><li><p>å®ƒå®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§<strong>ä¸€å¯¹å¤š</strong>çš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œ<strong>æ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥å’Œæ›´æ–°</strong></p></li><li><p>è§‚å¯Ÿè€…æ¨¡å¼æä¾›äº†ä¸€ä¸ªè®¢é˜…æ¨¡å‹ï¼Œå…¶ä¸­å¯¹è±¡è®¢é˜…äº‹ä»¶å¹¶åœ¨å‘ç”Ÿæ—¶å¾—åˆ°é€šçŸ¥ï¼Œè¿™ç§æ¨¡å¼æ˜¯äº‹ä»¶é©±åŠ¨çš„ç¼–ç¨‹åŸºçŸ³ï¼Œå®ƒæœ‰åˆ©ç›Šäºè‰¯å¥½çš„é¢å‘å¯¹è±¡çš„è®¾è®¡</p></li><li><p>å®šä¹‰ï¼šå¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ã€‚</p></li><li><p>éœ€æ±‚ï¼šå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºä»–çš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥ã€‚</p></li><li><p>ä¼˜ç‚¹ï¼šæ—¶é—´ä¸Šçš„è§£è€¦ï¼Œå¯¹è±¡ä¹‹é—´çš„è§£è€¦ã€‚</p></li><li><p>å®ç°ï¼š</p><ul><li>æŒ‡å®šå¥½è°å……å½“å‘å¸ƒè€…;</li><li>ç»™å‘å¸ƒè€…æ·»åŠ ä¸€ä¸ªç¼“å­˜åˆ—è¡¨ï¼Œç”¨äºå­˜æ”¾å›è°ƒå‡½æ•°ä»¥ä¾¿é€šçŸ¥è®¢é˜…è€…;</li><li>å‘å¸ƒæ¶ˆæ¯çš„æ—¶å€™ï¼Œå‘å¸ƒè€…ä¼šéå†è¿™ä¸ªç¼“å­˜åˆ—è¡¨ï¼Œä¾æ¬¡è§¦å‘é‡Œé¢å­˜æ”¾çš„è®¢é˜…è€…å›è°ƒå‡½æ•°ã€‚</li></ul></li></ul><h3 id="ç­–ç•¥æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ç­–ç•¥æ¨¡å¼" aria-hidden="true">#</a> ç­–ç•¥æ¨¡å¼</h3><p>å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼Œå°†ä»–ä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œä½¿ä»–ä»¬ç›´æ¥å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œå®ç°ä¸åŒçš„åˆ†æ”¯é€»è¾‘å¤„ç†</p><ul><li>ç¬¬ä¸€éƒ¨åˆ†æ˜¯ç­–ç•¥ç±»ï¼Œå°è£…äº†è®¸å¤šå…·ä½“çš„ï¼Œç›¸ä¼¼çš„ç®—æ³•ã€‚</li><li>ç¬¬äºŒéƒ¨åˆ†æ˜¯ç¯å¢ƒç±»ï¼Œæ¥å—å®¢æˆ·è¯·æ±‚ï¼Œéšåå°†è¯·æ±‚å§”æ‰˜ç»™ç­–ç•¥ç±»ã€‚</li><li>è¯´çš„é€šä¿—ä¸€ç‚¹å°±æ˜¯å°†ç›¸åŒç®—æ³•çš„å‡½æ•°å­˜æ”¾åœ¨ä¸€ä¸ªåŒ…è£…é‡Œè¾¹ï¼Œæ¯ä¸ªå‡½æ•°ç”¨ç›¸åŒçš„æ–¹å¼æ‹¿å‡ºæ¥ï¼Œå°±å«åšç­–ç•¥æ¨¡å¼ã€‚ä¸‹é¢æˆ‘ä»¬æ¥é€šè¿‡ä»£ç å®ç°æ·±å…¥äº†è§£ä¸€ä¸‹ã€‚</li></ul><div class="demo-block demo-zh-CN demo-js" data-v-6cd9c49e><div class="demo-content" data-v-6cd9c49e><div data-v-6cd9c49e><p>é€šè¿‡ç­–ç•¥æ¨¡å¼ åˆ¤æ–­è¡¨å•æ•°æ®</p><button class="ant-btn" type="button"><!----><!--[--><span>æ ¡éªŒæ•°æ®1</span><!--]--></button><button class="ant-btn" type="button"><!----><!--[--><span>æ ¡éªŒæ•°æ®2</span><!--]--></button><button class="ant-btn" type="button"><!----><!--[--><span>æ ¡éªŒæ•°æ®3</span><!--]--></button></div></div><div class="meta" data-v-6cd9c49e><div class="description" data-v-6cd9c49e><p>ç­–ç•¥æ¨¡å¼</p>
</div><div class="code-content" data-v-6cd9c49e><pre v-pre><code><span class="token comment">&lt;!--
 * @Author: æ›¹æ·
 * @Date: 2022-06-08 10:00:42
 * @LastEditors: æ›¹æ·
 * @LastEditTime: 2022-06-08 12:10:14
 * @Description: ç­–ç•¥æ¨¡å¼
--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>é€šè¿‡ç­–ç•¥æ¨¡å¼ åˆ¤æ–­è¡¨å•æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>validate1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ ¡éªŒæ•°æ®1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>validate2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ ¡éªŒæ•°æ®2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>validate3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ ¡éªŒæ•°æ®3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-button</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'ant-design-vue'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> Validator <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
      <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">ruleList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token keyword">this</span>
        <span class="token doc-comment comment">/**
         * å®šä¹‰ç­–ç•¥ å°†éœ€è¦å¤§é‡çš„if else åˆ¤æ–­çš„é€»è¾‘ ç‹¬ç«‹åŒ–
         * ä¿®æ”¹å¯¹åº”é€»è¾‘ä¸ä¼šå½±å“å…¶ä»–çš„åˆ†æ”¯åˆ¤æ–­
         */</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>strategies <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token function">noEmpty</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>content <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> content <span class="token operator">===</span> <span class="token string">''</span> <span class="token operator">||</span> content <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> info <span class="token operator">=</span> item<span class="token punctuation">.</span>message <span class="token operator">?</span> item<span class="token punctuation">.</span>message <span class="token operator">:</span> <span class="token string">'ä¸èƒ½ä¸ºç©º'</span>
              info <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>name <span class="token operator">?</span> item<span class="token punctuation">.</span>name <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
              _this<span class="token punctuation">.</span><span class="token function">showTip</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span>
              <span class="token keyword">return</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function">number</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> info <span class="token operator">=</span> item<span class="token punctuation">.</span>message <span class="token operator">?</span> item<span class="token punctuation">.</span>message <span class="token operator">:</span> <span class="token string">'ä¸æ˜¯æ­£ç¡®çš„æ•°å­—'</span>
              info <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>name <span class="token operator">?</span> item<span class="token punctuation">.</span>name <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
              _this<span class="token punctuation">.</span><span class="token function">showTip</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span>
              <span class="token keyword">return</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ruleList <span class="token operator">=</span> ruleList
      <span class="token punctuation">}</span>
      <span class="token function">validate</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ruleList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">let</span> rule <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ruleList<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
          <span class="token keyword">let</span> content <span class="token operator">=</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">validateItem</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> rule<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
      <span class="token function">validateItem</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> rule</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> rule<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>strategies<span class="token punctuation">[</span>item<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>strategies<span class="token punctuation">[</span>item<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> item<span class="token punctuation">)</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'å½“å‰éªŒè¯çš„ç±»å‹ä¸å­˜åœ¨å¯¹åº”ç­–ç•¥'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
      <span class="token function">showTip</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> _data <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">data1</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">data2</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'å§“å'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">data3</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'å§“å'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">'xxx'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">rule1</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'noEmpty'</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'è¯·è¾“å…¥å§“å'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'noEmpty'</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'å¹´é¾„ä¸èƒ½ä¸ºç©º'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'å¹´é¾„'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> valid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Validator</span><span class="token punctuation">(</span>_data<span class="token punctuation">.</span>rule1<span class="token punctuation">)</span>
    <span class="token keyword">let</span> _methods <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token function">validate1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> result <span class="token operator">=</span> valid<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>_data<span class="token punctuation">.</span>data1<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span>
          message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'æ ¡éªŒæˆåŠŸ'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">validate2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> result <span class="token operator">=</span> valid<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>_data<span class="token punctuation">.</span>data2<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span>
          message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'æ ¡éªŒæˆåŠŸ'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">validate3</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> result <span class="token operator">=</span> valid<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>_data<span class="token punctuation">.</span>data3<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span>
          message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'æ ¡éªŒæˆåŠŸ'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>_methods
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre></div></div><div class="demo-block-control" style="width:unset;" data-v-6cd9c49e><i class="caret-bottom icon" data-v-6cd9c49e></i><span style="display:none;" data-v-6cd9c49e>æ˜¾ç¤ºä»£ç </span><span style="" class="copy-action" data-v-6cd9c49e>å¤åˆ¶ä»£ç </span><span style="display:none;" class="copy-action copy-action-success" data-v-6cd9c49e>å¤åˆ¶ä»£ç </span></div></div><h2 id="ä¸ºä»€ä¹ˆè¦æœ‰åŒæºé™åˆ¶" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆè¦æœ‰åŒæºé™åˆ¶" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆè¦æœ‰åŒæºé™åˆ¶ï¼Ÿ</h2><p>åŒæºç­–ç•¥æŒ‡çš„æ˜¯ï¼šåè®®ï¼ŒåŸŸåï¼Œç«¯â¼ç›¸åŒï¼ŒåŒæºç­–ç•¥æ˜¯â¼€ç§å®‰å…¨åè®®</p><ul><li>ä¸¾ä¾‹è¯´æ˜ï¼š â½å¦‚â¼€ä¸ªâ¿Šå®¢ç¨‹åºï¼Œä»–åˆ©â½¤ Iframe æŠŠçœŸæ­£çš„é“¶â¾ç™»å½•â»šâ¾¯åµŒåˆ°ä»–çš„â»šâ¾¯ä¸Šï¼Œ å½“ä½ ä½¿â½¤çœŸå®çš„â½¤æˆ·åï¼Œå¯†ç ç™»å½•æ—¶ï¼Œä»–çš„â»šâ¾¯å°±å¯ä»¥é€šè¿‡ Javascript è¯»å–åˆ°ä½ çš„è¡¨å• ä¸­ input ä¸­çš„å†…å®¹ï¼Œè¿™æ ·â½¤æˆ·åï¼Œå¯†ç å°±è½»æ¾åˆ°â¼¿äº†ã€‚</li></ul><h2 id="offsetwidth-offsetheight-clientwidth-clientheightä¸scrollwidth-scrollheightçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#offsetwidth-offsetheight-clientwidth-clientheightä¸scrollwidth-scrollheightçš„åŒºåˆ«" aria-hidden="true">#</a> offsetWidth/offsetHeight,clientWidth/clientHeightä¸scrollWidth/scrollHeightçš„åŒºåˆ«</h2><ul><li>offsetWidth/offsetHeight è¿”å›å€¼åŒ…å«content + padding + borderï¼Œæ•ˆæœä¸e.getBoundingClientRect()ç›¸åŒ <strong>å®¹å™¨çœŸå®å¤§å°</strong></li><li>clientWidth/clientHeight è¿”å›å€¼åªåŒ…å«content + paddingï¼Œå¦‚æœæœ‰æ»šåŠ¨æ¡ï¼Œä¹Ÿä¸åŒ…å«æ»šåŠ¨æ¡ ï¼Œ<strong>å®¹å™¨å†…å®¹å¤§å°</strong></li><li>scrollWidth/scrollHeight è¿”å›å€¼åŒ…å«content + padding + æº¢å‡ºå†…å®¹çš„å°ºâ¼¨ <strong>å®¹å™¨æ»šåŠ¨å¤§å°</strong></li></ul><h2 id="javascriptæœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#javascriptæœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡" aria-hidden="true">#</a> javascriptæœ‰å“ªäº›â½…æ³•å®šä¹‰å¯¹è±¡</h2><ul><li>å¯¹è±¡å­—â¾¯é‡ï¼š var obj = {};</li><li>æ„é€ å‡½æ•°ï¼š var obj = new Object();</li><li>Object.create(): var obj = Object.create(Object.prototype);</li></ul><h2 id="ä½ è§‰å¾—jqueryæºç æœ‰å“ªäº›å†™çš„å¥½çš„åœ°æ–¹" tabindex="-1"><a class="header-anchor" href="#ä½ è§‰å¾—jqueryæºç æœ‰å“ªäº›å†™çš„å¥½çš„åœ°æ–¹" aria-hidden="true">#</a> ä½ è§‰å¾—jQueryæºç æœ‰å“ªäº›å†™çš„å¥½çš„åœ°â½…</h2><ul><li>jquery æºç å°è£…åœ¨â¼€ä¸ªåŒ¿åå‡½æ•°çš„â¾ƒæ‰§â¾ç¯å¢ƒä¸­ï¼Œæœ‰åŠ©äºé˜²â½Œå˜é‡çš„å…¨å±€æ±¡æŸ“ï¼Œç„¶åé€šè¿‡ä¼ â¼Š window å¯¹è±¡å‚æ•°ï¼Œå¯ä»¥ä½¿ window å¯¹è±¡ä½œä¸ºå±€éƒ¨å˜é‡ä½¿â½¤ï¼Œ <ul><li>å¥½å¤„æ˜¯å½“ jquery ä¸­è®¿é—® window å¯¹è±¡çš„æ—¶å€™ï¼Œå°±ä¸â½¤å°†ä½œâ½¤åŸŸé“¾é€€å›åˆ°é¡¶å±‚ä½œâ½¤åŸŸäº†ï¼Œä»â½½å¯ä»¥æ›´å¿«çš„è®¿é—®windowå¯¹è±¡ã€‚åŒæ ·ï¼Œä¼ â¼Š undefined å‚æ•°ï¼Œå¯ä»¥ç¼©çŸ­æŸ¥æ‰¾ undefined æ—¶çš„ä½œâ½¤åŸŸé“¾</li></ul></li><li>jquery å°†â¼€äº›åŸå‹å±æ€§å’Œâ½…æ³•å°è£…åœ¨äº† <strong>jquery.prototype</strong> ä¸­ï¼Œä¸ºäº†ç¼©çŸ­åç§°ï¼Œâ¼œèµ‹å€¼ç»™äº† jquery.fn ï¼Œè¿™æ˜¯å¾ˆå½¢è±¡çš„å†™æ³•</li><li>æœ‰â¼€äº›æ•°ç»„æˆ–å¯¹è±¡çš„â½…æ³•ç»å¸¸èƒ½ä½¿â½¤åˆ°ï¼Œ <strong>jQuery</strong> å°†å…¶ä¿å­˜ä¸ºå±€éƒ¨å˜é‡ä»¥æâ¾¼è®¿é—®é€Ÿåº¦</li><li>jquery å®ç°çš„é“¾å¼è°ƒâ½¤å¯ä»¥èŠ‚çº¦ä»£ç ï¼Œæ‰€è¿”å›çš„éƒ½æ˜¯åŒâ¼€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥æâ¾¼ä»£ç æ•ˆç‡</li></ul><h2 id="jsæ•°æ®ç±»å‹ç›¸å…³" tabindex="-1"><a class="header-anchor" href="#jsæ•°æ®ç±»å‹ç›¸å…³" aria-hidden="true">#</a> jsæ•°æ®ç±»å‹ç›¸å…³</h2><ul><li>æ ˆï¼šåŸå§‹æ•°æ®ç±»å‹ï¼ˆ <strong>Undefined ï¼Œ Null ï¼Œ Boolean ï¼Œ Number ã€ String</strong> ï¼‰</li><li>å †ï¼šå¼•â½¤æ•°æ®ç±»å‹ï¼ˆ<strong>å¯¹è±¡ã€æ•°ç»„å’Œå‡½æ•°</strong>ï¼‰</li><li>ä¸¤ç§ç±»å‹çš„åŒºåˆ«æ˜¯ï¼šå­˜å‚¨ä½ç½®ä¸åŒï¼›</li><li>åŸå§‹æ•°æ®ç±»å‹ç›´æ¥å­˜å‚¨åœ¨æ ˆ( stack )ä¸­çš„ç®€å•æ•°æ®æ®µï¼Œå æ®ç©ºé—´â¼©ã€â¼¤â¼©å›ºå®šï¼Œå±äºè¢«é¢‘ç¹ä½¿â½¤æ•°æ®ï¼Œæ‰€ä»¥æ”¾â¼Šæ ˆä¸­å­˜å‚¨ï¼›</li><li>å¼•â½¤æ•°æ®ç±»å‹å­˜å‚¨åœ¨å †( heap )ä¸­çš„å¯¹è±¡,å æ®ç©ºé—´â¼¤ã€â¼¤â¼©ä¸å›ºå®š,å¦‚æœå­˜å‚¨åœ¨æ ˆä¸­ï¼Œå°†ä¼šå½±å“ç¨‹åºè¿â¾çš„æ€§èƒ½ï¼›</li><li>å¼•â½¤æ•°æ®ç±»å‹åœ¨<strong>æ ˆ</strong>ä¸­å­˜å‚¨äº†<strong>æŒ‡é’ˆ</strong>ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å †ä¸­è¯¥å®ä½“çš„<strong>èµ·å§‹åœ°å€</strong>ã€‚å½“è§£é‡Šå™¨å¯»æ‰¾å¼•â½¤å€¼æ—¶ï¼Œä¼šâ¾¸å…ˆæ£€ç´¢å…¶</li><li>åœ¨æ ˆä¸­çš„åœ°å€ï¼Œå–å¾—åœ°å€åä»å †ä¸­è·å¾—å®ä½“</li></ul><h3 id="å†…ç½®å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#å†…ç½®å¯¹è±¡" aria-hidden="true">#</a> å†…ç½®å¯¹è±¡</h3><ul><li>Object æ˜¯ JavaScript ä¸­æ‰€æœ‰å¯¹è±¡çš„â½—å¯¹è±¡</li><li>æ•°æ®å°è£…ç±»å¯¹è±¡ï¼š <strong>Object ã€ Array ã€ Boolean ã€ Number å’Œ String</strong></li><li>å…¶ä»–å¯¹è±¡ï¼š Function ã€ Arguments ã€ Math ã€ Date ã€ RegExp ã€ Error</li></ul><p><img src="./assets/235f.6c6895c6.png" alt="235f"></p><h2 id="evalæ˜¯åšä»€ä¹ˆçš„" tabindex="-1"><a class="header-anchor" href="#evalæ˜¯åšä»€ä¹ˆçš„" aria-hidden="true">#</a> evalæ˜¯åšä»€ä¹ˆçš„</h2><ul><li>å®ƒçš„åŠŸèƒ½æ˜¯æŠŠå¯¹åº”çš„å­—ç¬¦ä¸²è§£ææˆ JS ä»£ç å¹¶è¿â¾</li><li>åº”è¯¥é¿å…ä½¿â½¤ eval ï¼Œä¸å®‰å…¨ï¼Œâ¾®å¸¸è€—æ€§èƒ½ï¼ˆ 2 æ¬¡ï¼Œâ¼€æ¬¡è§£ææˆ js è¯­å¥ï¼Œâ¼€æ¬¡æ‰§â¾ï¼‰</li><li>ç”± JSON å­—ç¬¦ä¸²è½¬æ¢ä¸ºJSONå¯¹è±¡çš„æ—¶å€™å¯ä»¥â½¤ evalï¼Œvar obj =eval(&#39;(&#39;+ str +&#39;)&#39;)</li></ul><h2 id="null-undefined-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#null-undefined-çš„åŒºåˆ«" aria-hidden="true">#</a> nullï¼Œundefined çš„åŒºåˆ«</h2><ul><li>undefined è¡¨ç¤ºä¸å­˜åœ¨è¿™ä¸ªå€¼ã€‚</li><li>undefined :æ˜¯â¼€ä¸ªè¡¨ç¤º&quot;â½†&quot;çš„åŸå§‹å€¼æˆ–è€…è¯´è¡¨ç¤º&quot;ç¼ºå°‘å€¼&quot;ï¼Œå°±æ˜¯æ­¤å¤„åº”è¯¥æœ‰â¼€ä¸ªå€¼ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å®šä¹‰ã€‚å½“å°è¯•è¯»å–æ—¶ä¼šè¿”å› undefined</li><li>ä¾‹å¦‚å˜é‡è¢«å£°æ˜äº†ï¼Œä½†æ²¡æœ‰èµ‹å€¼æ—¶ï¼Œå°±ç­‰äº undefined</li><li>null è¡¨ç¤ºâ¼€ä¸ªå¯¹è±¡è¢«å®šä¹‰äº†ï¼Œå€¼ä¸ºâ€œç©ºå€¼â€</li><li>null : æ˜¯â¼€ä¸ªå¯¹è±¡(ç©ºå¯¹è±¡, æ²¡æœ‰ä»»ä½•å±æ€§å’Œâ½…æ³•)</li><li>ä¾‹å¦‚ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œè¡¨ç¤ºè¯¥å‡½æ•°çš„å‚æ•°ä¸æ˜¯å¯¹è±¡ï¼›</li><li>åœ¨éªŒè¯ null æ—¶ï¼Œâ¼€å®šè¦ä½¿â½¤ === ï¼Œå› ä¸º == â½†æ³•åˆ†åˆ« null å’Œ undefined</li></ul><h2 id="å¦‚ä½•é€šè¿‡jsåˆ¤æ–­ä¸€ä¸ªæ•°ç»„" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•é€šè¿‡jsåˆ¤æ–­ä¸€ä¸ªæ•°ç»„" aria-hidden="true">#</a> å¦‚ä½•é€šè¿‡JSåˆ¤æ–­â¼€ä¸ªæ•°ç»„</h2><ul><li>instanceof â½…æ³• <ul><li>instanceof è¿ç®—ç¬¦æ˜¯â½¤æ¥æµ‹è¯•â¼€ä¸ªå¯¹è±¡æ˜¯å¦åœ¨å…¶åŸå‹é“¾åŸå‹æ„é€ å‡½æ•°çš„å±æ€§</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>constructor â½…æ³• <ul><li>constructor å±æ€§è¿”å›å¯¹åˆ›å»ºæ­¤å¯¹è±¡çš„æ•°ç»„å‡½æ•°çš„å¼•â½¤ï¼Œå°±æ˜¯è¿”å›å¯¹è±¡ç›¸å¯¹åº”çš„æ„é€ å‡½æ•°</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span>constructor <span class="token operator">==</span> Array<span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>æœ€ç®€å•çš„â½…æ³• <ul><li>è¿™ç§å†™æ³•ï¼Œæ˜¯ jQuery æ­£åœ¨ä½¿â½¤çš„</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&#39;[object Array]&#39;</span>
<span class="token comment">// åˆ©â½¤è¿™ä¸ªâ½…æ³•ï¼Œå¯ä»¥å†™â¼€ä¸ªè¿”å›æ•°æ®ç±»å‹çš„â½…æ³•</span>
<span class="token keyword">var</span> <span class="token function-variable function">isType</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ES5 æ–°å¢â½…æ³• isArray()</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="è°ˆä¸€è°ˆletã€constã€varçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#è°ˆä¸€è°ˆletã€constã€varçš„åŒºåˆ«" aria-hidden="true">#</a> è°ˆâ¼€è°ˆletã€constã€varçš„åŒºåˆ«</h2><ul><li>let <ul><li>å…è®¸ä½ å£°æ˜â¼€ä¸ªä½œâ½¤åŸŸè¢«é™åˆ¶åœ¨å—çº§ä¸­çš„å˜é‡ã€è¯­å¥æˆ–è€…è¡¨è¾¾å¼</li><li>letç»‘å®šä¸å—å˜é‡æå‡çš„çº¦æŸï¼Œè¿™æ„å‘³ç€letå£°æ˜ä¸ä¼šè¢«æå‡åˆ°å½“å‰</li><li>è¯¥å˜é‡å¤„äºä»å—å¼€å§‹åˆ°åˆå§‹åŒ–å¤„ç†çš„â€œæš‚å­˜æ­»åŒºâ€</li></ul></li><li>var <ul><li>å£°æ˜å˜é‡çš„ä½œâ½¤åŸŸé™åˆ¶åœ¨å…¶å£°æ˜ä½ç½®çš„ä¸Šä¸‹â½‚ä¸­ï¼Œâ½½â¾®å£°æ˜å˜é‡æ€»æ˜¯å…¨å±€çš„</li><li>ç”±äºå˜é‡å£°æ˜ï¼ˆä»¥åŠå…¶ä»–å£°æ˜ï¼‰æ€»æ˜¯åœ¨ä»»æ„ä»£ç æ‰§â¾ä¹‹å‰å¤„ç†çš„ï¼Œæ‰€ä»¥åœ¨ä»£ç ä¸­çš„ä»»æ„ä½ç½®å£°æ˜å˜é‡æ€»æ˜¯ç­‰æ•ˆäºåœ¨ä»£ç å¼€å¤´å£°æ˜</li></ul></li><li>const <ul><li>å£°æ˜åˆ›å»ºâ¼€ä¸ªå€¼çš„åªè¯»å¼•â½¤ (å³æŒ‡é’ˆ)</li><li>åŸºæœ¬æ•°æ®å½“å€¼å‘â½£æ”¹å˜æ—¶ï¼Œé‚£ä¹ˆå…¶å¯¹åº”çš„æŒ‡é’ˆä¹Ÿå°†å‘â½£æ”¹å˜ï¼Œæ•…é€ æˆ const ç”³æ˜åŸºæœ¬æ•°æ®ç±»å‹æ—¶</li><li>å†å°†å…¶å€¼æ”¹å˜æ—¶ï¼Œå°†ä¼šé€ æˆæŠ¥é”™ï¼Œ ä¾‹å¦‚ const a = 3 ; a = 5 æ—¶ å°†ä¼šæŠ¥é”™</li><li>ä½†æ˜¯å¦‚æœæ˜¯å¤åˆç±»å‹æ—¶ï¼Œå¦‚æœåªæ”¹å˜å¤åˆç±»å‹çš„å…¶ä¸­æŸä¸ª Value é¡¹æ—¶ï¼Œ å°†è¿˜æ˜¯æ­£å¸¸ä½¿â½¤</li></ul></li></ul><h2 id="mapä¸foreachçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#mapä¸foreachçš„åŒºåˆ«" aria-hidden="true">#</a> mapä¸forEachçš„åŒºåˆ«</h2><ul><li>forEach â½…æ³•ï¼Œæ˜¯æœ€åŸºæœ¬çš„â½…æ³•ï¼Œå°±æ˜¯éå†ä¸å¾ªç¯ï¼Œé»˜è®¤æœ‰<strong>3ä¸ªä¼ å‚</strong>ï¼šåˆ†åˆ«æ˜¯éå†çš„æ•°ç»„å†…å®¹ item ã€æ•°ç»„ç´¢å¼• index ã€å’Œ<strong>å½“å‰éå†æ•°ç»„ Array</strong></li><li>map â½…æ³•ï¼ŒåŸºæœ¬â½¤æ³•ä¸ forEach â¼€è‡´ï¼Œä½†æ˜¯ä¸åŒçš„ï¼Œå®ƒä¼šè¿”å›â¼€ä¸ªæ–°çš„æ•°ç»„ï¼Œæ‰€ä»¥åœ¨callbackéœ€è¦æœ‰ <strong>return å€¼</strong>ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¼šè¿”å› <strong>undefined</strong></li></ul><h2 id="å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼" aria-hidden="true">#</a> å¼‚æ­¥ç¼–ç¨‹çš„å®ç°â½…å¼</h2><ul><li>å›è°ƒå‡½æ•° <ul><li>ä¼˜ç‚¹ï¼šç®€å•ã€å®¹æ˜“ç†è§£</li><li>ç¼ºç‚¹ï¼šä¸åˆ©äºç»´æŠ¤ï¼Œä»£ç è€¦åˆâ¾¼</li></ul></li><li>äº‹ä»¶ç›‘å¬(é‡‡â½¤æ—¶é—´é©±åŠ¨æ¨¡å¼ï¼Œå–å†³äºæŸä¸ªäº‹ä»¶æ˜¯å¦å‘â½£)ï¼š <ul><li>ä¼˜ç‚¹ï¼šå®¹æ˜“ç†è§£ï¼Œå¯ä»¥ç»‘å®šå¤šä¸ªäº‹ä»¶ï¼Œæ¯ä¸ªäº‹ä»¶å¯ä»¥æŒ‡å®šå¤šä¸ªå›è°ƒå‡½æ•°</li><li>ç¼ºç‚¹ï¼šäº‹ä»¶é©±åŠ¨å‹ï¼Œæµç¨‹ä¸å¤Ÿæ¸…æ™°</li></ul></li><li>å‘å¸ƒ/è®¢é˜…(è§‚å¯Ÿè€…æ¨¡å¼) <ul><li>ç±»ä¼¼äºäº‹ä»¶ç›‘å¬ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡â€˜æ¶ˆæ¯ä¸­â¼¼Ê¼ï¼Œäº†è§£ç°åœ¨æœ‰å¤šå°‘å‘å¸ƒè€…ï¼Œå¤šå°‘è®¢é˜…è€…</li></ul></li><li>Promiseå¯¹è±¡ <ul><li>ä¼˜ç‚¹ï¼šå¯ä»¥åˆ©â½¤thenâ½…æ³•ï¼Œè¿›â¾é“¾å¼å†™æ³•ï¼›å¯ä»¥ä¹¦å†™é”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°ï¼›</li><li>ç¼ºç‚¹ï¼šç¼–å†™å’Œç†è§£ï¼Œç›¸å¯¹â½è¾ƒéš¾</li></ul></li><li>Generatorå‡½æ•° <ul><li>ä¼˜ç‚¹ï¼šå‡½æ•°ä½“å†…å¤–çš„æ•°æ®äº¤æ¢ã€é”™è¯¯å¤„ç†æœºåˆ¶</li><li>ç¼ºç‚¹ï¼šæµç¨‹ç®¡ç†ä¸â½…ä¾¿</li></ul></li><li>asyncå‡½æ•° <ul><li>ä¼˜ç‚¹ï¼šå†…ç½®æ‰§â¾å™¨ã€æ›´å¥½çš„è¯­ä¹‰ã€æ›´â¼´çš„é€‚â½¤æ€§ã€è¿”å›çš„æ˜¯Promiseã€ç»“æ„æ¸…æ™°ã€‚</li><li>ç¼ºç‚¹ï¼šé”™è¯¯å¤„ç†æœºåˆ¶</li></ul></li></ul><h2 id="jsåŠ¨ç”»ä¸cssåŠ¨ç”»åŒºåˆ«åŠç›¸åº”å®ç°" tabindex="-1"><a class="header-anchor" href="#jsåŠ¨ç”»ä¸cssåŠ¨ç”»åŒºåˆ«åŠç›¸åº”å®ç°" aria-hidden="true">#</a> JsåŠ¨ç”»ä¸CSSåŠ¨ç”»åŒºåˆ«åŠç›¸åº”å®ç°</h2><ul><li><p>CSS3 çš„åŠ¨ç”»çš„ä¼˜ç‚¹</p><ul><li>åœ¨æ€§èƒ½ä¸Šä¼šç¨å¾®å¥½â¼€äº›ï¼Œæµè§ˆå™¨ä¼šå¯¹ CSS3 çš„åŠ¨ç”»åšâ¼€äº›ä¼˜åŒ–</li><li>ä»£ç ç›¸å¯¹ç®€å•</li><li>å¯ä»¥æœ‰<strong>GPU</strong>åŠ é€Ÿ</li></ul></li><li><p>ç¼ºç‚¹</p><ul><li>åœ¨åŠ¨ç”»æ§åˆ¶ä¸Šä¸å¤Ÿçµæ´»</li><li>å…¼å®¹æ€§ä¸å¥½</li></ul></li><li><p>JavaScript çš„åŠ¨ç”»æ­£å¥½å¼¥è¡¥äº†è¿™ä¸¤ä¸ªç¼ºç‚¹ï¼Œæ§åˆ¶èƒ½â¼’å¾ˆå¼ºï¼Œå¯ä»¥å•å¸§çš„æ§åˆ¶ã€å˜æ¢ï¼ŒåŒæ—¶å†™å¾—å¥½å®Œå…¨å¯ä»¥å…¼å®¹ IE6 ï¼Œå¹¶ä¸”åŠŸèƒ½å¼ºâ¼¤ã€‚</p></li><li><p>å¯¹äºâ¼€äº›å¤æ‚æ§åˆ¶çš„åŠ¨ç”»ï¼Œä½¿â½¤javascript ä¼šâ½è¾ƒé è°±ã€‚â½½åœ¨å®ç°â¼€äº›â¼©çš„äº¤äº’åŠ¨æ•ˆçš„æ—¶å€™ï¼Œå°±å¤šè€ƒè™‘è€ƒè™‘ CSS å§</p></li></ul><h2 id="js-æ•°ç»„å’Œå¯¹è±¡çš„éå†æ–¹å¼-ä»¥åŠå‡ ç§æ–¹å¼çš„æ¯”è¾ƒ" tabindex="-1"><a class="header-anchor" href="#js-æ•°ç»„å’Œå¯¹è±¡çš„éå†æ–¹å¼-ä»¥åŠå‡ ç§æ–¹å¼çš„æ¯”è¾ƒ" aria-hidden="true">#</a> JS æ•°ç»„å’Œå¯¹è±¡çš„éå†â½…å¼ï¼Œä»¥åŠâ¼ç§â½…å¼çš„â½è¾ƒ</h2><ul><li>for in å¾ªç¯</li><li>for å¾ªç¯</li><li>forEach <ul><li>è¿™â¾¥çš„ forEach å›è°ƒä¸­ä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä¸º value ï¼Œ index</li><li>forEach â½†æ³•éå†å¯¹è±¡</li><li>IEä¸â½€æŒè¯¥â½…æ³•ï¼› Firefox å’Œ chrome â½€æŒ</li><li>forEach â½†æ³•ä½¿â½¤ break ï¼Œ continue <strong>è·³å‡ºå¾ªç¯</strong>ï¼Œä¸”ä½¿â½¤ return æ˜¯è·³è¿‡æœ¬æ¬¡å¾ªç¯</li></ul></li><li>è¿™ä¸¤ç§â½…æ³•åº”è¯¥â¾®å¸¸å¸¸â»…ä¸”ä½¿â½¤å¾ˆé¢‘ç¹ã€‚ä½†å®é™…ä¸Šï¼Œè¿™ä¸¤ç§â½…æ³•éƒ½å­˜åœ¨æ€§èƒ½é—®é¢˜</li><li>åœ¨â½…å¼â¼€ä¸­ï¼Œ for-in éœ€è¦åˆ†æå‡º array çš„æ¯ä¸ªå±æ€§ï¼Œè¿™ä¸ªæ“ä½œæ€§èƒ½å¼€é”€å¾ˆâ¼¤ã€‚ <ul><li>â½¤åœ¨key å·²çŸ¥çš„æ•°ç»„ä¸Šæ˜¯â¾®å¸¸ä¸åˆ’ç®—çš„ã€‚æ‰€ä»¥å°½é‡ä¸è¦â½¤ for-in ï¼Œé™¤â¾®ä½ ä¸æ¸…æ¥šè¦å¤„ç†å“ªäº›å±æ€§ï¼Œä¾‹å¦‚ JSON å¯¹è±¡è¿™æ ·çš„æƒ…å†µ</li></ul></li><li>åœ¨â½…å¼2ä¸­ï¼Œå¾ªç¯æ¯è¿›â¾â¼€æ¬¡ï¼Œå°±è¦<strong>æ£€æŸ¥â¼€ä¸‹æ•°ç»„â»“åº¦</strong>ã€‚è¯»å–å±æ€§ï¼ˆæ•°ç»„â»“åº¦ï¼‰è¦â½è¯»å±€éƒ¨å˜é‡æ…¢ï¼Œå°¤å…¶æ˜¯å½“ array â¾¥å­˜æ”¾çš„éƒ½æ˜¯ DOM å…ƒç´ ï¼Œå› ä¸ºæ¯æ¬¡è¯»å–éƒ½ä¼šæ‰«æâ¼€éâ»šâ¾¯ä¸Š çš„é€‰æ‹©å™¨ç›¸å…³å…ƒç´ ï¼Œé€Ÿåº¦ä¼šâ¼¤â¼¤é™ä½</li></ul><h2 id="å¿«é€Ÿçš„è®©ä¸€ä¸ªæ•°ç»„ä¹±åº" tabindex="-1"><a class="header-anchor" href="#å¿«é€Ÿçš„è®©ä¸€ä¸ªæ•°ç»„ä¹±åº" aria-hidden="true">#</a> å¿«é€Ÿçš„è®©â¼€ä¸ªæ•°ç»„ä¹±åº</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="å¦‚ä½•æ¸²æŸ“å‡ ä¸‡æ¡æ•°æ®å¹¶ä¸å¡ä½ç•Œé¢" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•æ¸²æŸ“å‡ ä¸‡æ¡æ•°æ®å¹¶ä¸å¡ä½ç•Œé¢" aria-hidden="true">#</a> å¦‚ä½•æ¸²æŸ“â¼ä¸‡æ¡æ•°æ®å¹¶ä¸å¡ä½ç•Œâ¾¯</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>äº†å¦‚ä½•åœ¨ä¸å¡ä½â»šâ¾¯çš„æƒ…å†µä¸‹æ¸²æŸ“æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½â¼€æ¬¡æ€§å°†â¼ ä¸‡æ¡éƒ½æ¸²æŸ“å‡ºæ¥ï¼Œâ½½åº”è¯¥â¼€æ¬¡æ¸²æŸ“éƒ¨åˆ† DOM ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡ requestAnimationFrame æ¥æ¯ 16 ms åˆ·æ–°â¼€æ¬¡</p></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>æ§ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token comment">// æ’â¼Šâ¼—ä¸‡æ¡æ•°æ®</span>
 <span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token number">100000</span>
 <span class="token comment">// â¼€æ¬¡æ’â¼Š 20 æ¡ï¼Œå¦‚æœè§‰å¾—æ€§èƒ½ä¸å¥½å°±å‡å°‘</span>
 <span class="token keyword">const</span> once <span class="token operator">=</span> <span class="token number">20</span>
 <span class="token comment">// æ¸²æŸ“æ•°æ®æ€»å…±éœ€è¦â¼æ¬¡</span>
 <span class="token keyword">const</span> loopCount <span class="token operator">=</span> total <span class="token operator">/</span> once
 <span class="token keyword">let</span> countOfRender <span class="token operator">=</span> <span class="token number">0</span>
 <span class="token keyword">let</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¼˜åŒ–æ€§èƒ½ï¼Œæ’â¼Šä¸ä¼šé€ æˆå›æµ</span>
    <span class="token keyword">const</span> fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> once<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        li<span class="token punctuation">.</span>innerText <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> total<span class="token punctuation">)</span><span class="token punctuation">;</span>
        fragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>fragment<span class="token punctuation">)</span><span class="token punctuation">;</span>
    countOfRender <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">function</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>countOfRender <span class="token operator">&lt;</span> loopCount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h2 id="requestanimationframe" tabindex="-1"><a class="header-anchor" href="#requestanimationframe" aria-hidden="true">#</a> requestAnimationFrame</h2><blockquote><p>requestAnimationFrameæ˜¯æµè§ˆå™¨ç”¨äºå®šæ—¶å¾ªç¯æ“ä½œçš„ä¸€ä¸ªæ¥å£ï¼Œç±»ä¼¼äºsetTimeoutï¼Œä¸»è¦ç”¨é€”æ˜¯æŒ‰å¸§å¯¹ç½‘é¡µè¿›è¡Œé‡ç»˜ã€‚</p></blockquote><p>requestAnimationFrameçš„ä¼˜åŠ¿ï¼Œåœ¨äºå……åˆ†åˆ©ç”¨æ˜¾ç¤ºå™¨çš„åˆ·æ–°æœºåˆ¶ï¼Œæ¯”è¾ƒèŠ‚çœç³»ç»Ÿèµ„æºã€‚</p><ul><li>æ˜¾ç¤ºå™¨æœ‰å›ºå®šçš„åˆ·æ–°é¢‘ç‡ï¼ˆ60Hzæˆ–75Hzï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ç§’æœ€å¤šåªèƒ½é‡ç»˜60æ¬¡æˆ–75æ¬¡ï¼ŒrequestAnimationFrameçš„åŸºæœ¬æ€æƒ³å°±æ˜¯ä¸è¿™ä¸ªåˆ·æ–°é¢‘ç‡ä¿æŒåŒæ­¥ï¼Œåˆ©ç”¨è¿™ä¸ªåˆ·æ–°é¢‘ç‡è¿›è¡Œé¡µé¢é‡ç»˜ã€‚</li><li>æ­¤å¤–ï¼Œä½¿ç”¨è¿™ä¸ªAPIï¼Œä¸€æ—¦é¡µé¢ä¸å¤„äºæµè§ˆå™¨çš„å½“å‰æ ‡ç­¾ï¼Œå°±ä¼š<strong>è‡ªåŠ¨åœæ­¢åˆ·æ–°</strong>ã€‚è¿™å°±èŠ‚çœäº†CPUã€GPUå’Œç”µåŠ›ã€‚</li></ul><h2 id="domèŠ‚ç‚¹æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#domèŠ‚ç‚¹æ“ä½œ" aria-hidden="true">#</a> domèŠ‚ç‚¹æ“ä½œ</h2><h3 id="åˆ›å»ºæ–°èŠ‚ç‚¹" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºæ–°èŠ‚ç‚¹" aria-hidden="true">#</a> åˆ›å»ºæ–°èŠ‚ç‚¹</h3><ul><li>createDocumentFragment() //åˆ›å»ºâ¼€ä¸ªDOMâ½šæ®µ</li><li>createElement() //åˆ›å»ºâ¼€ä¸ªå…·ä½“çš„å…ƒç´ </li><li>createTextNode() //åˆ›å»ºâ¼€ä¸ªâ½‚æœ¬èŠ‚ç‚¹</li></ul><h3 id="æ·»åŠ ã€ç§»é™¤ã€æ›¿æ¢ã€æ’å…¥" tabindex="-1"><a class="header-anchor" href="#æ·»åŠ ã€ç§»é™¤ã€æ›¿æ¢ã€æ’å…¥" aria-hidden="true">#</a> æ·»åŠ ã€ç§»é™¤ã€æ›¿æ¢ã€æ’â¼Š</h3><ul><li>appendChild() //æ·»åŠ </li><li>removeChild() //ç§»é™¤</li><li>replaceChild() //æ›¿æ¢</li><li>insertBefore() //æ’â¼Š</li></ul><h3 id="æŸ¥æ‰¾" tabindex="-1"><a class="header-anchor" href="#æŸ¥æ‰¾" aria-hidden="true">#</a> æŸ¥æ‰¾</h3><ul><li>getElementsByTagName() //é€šè¿‡æ ‡ç­¾åç§°</li><li>getElementsByName() //é€šè¿‡å…ƒç´ çš„Nameå±æ€§çš„å€¼</li><li>getElementById() //é€šè¿‡å…ƒç´ Idï¼Œå”¯â¼€æ€§</li></ul><h2 id="â¤æ­£åˆ™è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#â¤æ­£åˆ™è¡¨è¾¾å¼" aria-hidden="true">#</a> â¤æ­£åˆ™è¡¨è¾¾å¼</h2><h3 id="æ­£åˆ™ç¬¦å·è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#æ­£åˆ™ç¬¦å·è¯´æ˜" aria-hidden="true">#</a> æ­£åˆ™ç¬¦å·è¯´æ˜</h3><ul><li>^ åŒ¹é…ä¸€ä¸ªè¾“å…¥æˆ–ä¸€è¡Œçš„å¼€å¤´ï¼Œ/^a/åŒ¹é…&quot;an A&quot;ï¼Œè€Œä¸åŒ¹é…&quot;An a&quot;</li><li>$ åŒ¹é…ä¸€ä¸ªè¾“å…¥æˆ–ä¸€è¡Œçš„ç»“å°¾ï¼Œ/a$/åŒ¹é…&quot;An a&quot;ï¼Œè€Œä¸åŒ¹é…&quot;an A&quot;</li><li><ul><li>åŒ¹é…å‰é¢å…ƒå­—ç¬¦0æ¬¡æˆ–å¤šæ¬¡ï¼Œ/ba*/å°†åŒ¹é…b,ba,baa,baaa</li></ul></li><li><ul><li>åŒ¹é…å‰é¢å…ƒå­—ç¬¦1æ¬¡æˆ–å¤šæ¬¡ï¼Œ/ba*/å°†åŒ¹é…ba,baa,baaa</li></ul></li><li>? åŒ¹é…å‰é¢å…ƒå­—ç¬¦0æ¬¡æˆ–1æ¬¡ï¼Œ/ba*/å°†åŒ¹é…b,ba</li><li>(x) åŒ¹é…xä¿å­˜xåœ¨åä¸º$1...$9çš„å˜é‡ä¸­</li><li>x|y åŒ¹é…xæˆ–y</li><li>{n} ç²¾ç¡®åŒ¹é…næ¬¡</li><li>{n,} åŒ¹é…næ¬¡ä»¥ä¸Š</li><li>{n,m} åŒ¹é…n-mæ¬¡</li><li>[xyz] å­—ç¬¦é›†(character set)ï¼ŒåŒ¹é…è¿™ä¸ªé›†åˆä¸­çš„ä»»ä¸€ä¸€ä¸ªå­—ç¬¦(æˆ–å…ƒå­—ç¬¦)</li><li>[^xyz] ä¸åŒ¹é…è¿™ä¸ªé›†åˆä¸­çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦</li><li>[\b] åŒ¹é…ä¸€ä¸ªé€€æ ¼ç¬¦</li><li>\b åŒ¹é…ä¸€ä¸ªå•è¯çš„è¾¹ç•Œ</li><li>\B åŒ¹é…ä¸€ä¸ªå•è¯çš„éè¾¹ç•Œ</li><li>\cX è¿™å„¿ï¼ŒXæ˜¯ä¸€ä¸ªæ§åˆ¶ç¬¦ï¼Œ/\cM/åŒ¹é…Ctrl-M</li><li>\d åŒ¹é…ä¸€ä¸ªå­—æ•°å­—ç¬¦ï¼Œ/\d/ = /[0-9]/</li><li>\D åŒ¹é…ä¸€ä¸ªéå­—æ•°å­—ç¬¦ï¼Œ/\D/ = /[^0-9]/</li><li>\n åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦</li><li>\r åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦</li><li>\s åŒ¹é…ä¸€ä¸ªç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬\n,\r,\f,\t,\vç­‰</li><li>\S åŒ¹é…ä¸€ä¸ªéç©ºç™½å­—ç¬¦ï¼Œç­‰äº/[^\n\f\r\t\v]/</li><li>\t åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦</li><li>\v åŒ¹é…ä¸€ä¸ªé‡ç›´åˆ¶è¡¨ç¬¦</li><li>\w åŒ¹é…ä¸€ä¸ªå¯ä»¥ç»„æˆå•è¯çš„å­—ç¬¦(alphanumericï¼Œè¿™æ˜¯æˆ‘çš„æ„è¯‘ï¼Œå«æ•°å­—)ï¼ŒåŒ…æ‹¬ä¸‹åˆ’çº¿ï¼Œå¦‚[\w]åŒ¹é…&quot;$5.98&quot;ä¸­çš„5ï¼Œç­‰äº[a-zA-Z0-9]</li><li>\W åŒ¹é…ä¸€ä¸ªä¸å¯ä»¥ç»„æˆå•è¯çš„å­—ç¬¦ï¼Œå¦‚[\W]åŒ¹é…&quot;$5.98&quot;ä¸­çš„$ï¼Œç­‰äº[^a-zA-Z0-9]ã€‚</li></ul><h3 id="é‡è¯-n-m-n-n" tabindex="-1"><a class="header-anchor" href="#é‡è¯-n-m-n-n" aria-hidden="true">#</a> é‡è¯(*,?,+,-,{n,m},?=n,?!=n);</h3><table><thead><tr><th>å­—ç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>*</td><td>åŒ¹é…ä»»æ„æ¬¡,.*è¿åœ¨ä¸€èµ·å°±æ„å‘³ç€ä»»æ„æ•°é‡çš„ä¸åŒ…å«æ¢è¡Œçš„å­—ç¬¦ã€‚ç­‰ä»·äº{0,}</td></tr><tr><td>+</td><td>åŒ¹é…å‰é¢ä¸€ä¸ªè¡¨è¾¾å¼1æ¬¡æˆ–è€…å¤šæ¬¡ã€‚ç­‰ä»·äº {1,}ã€‚</td></tr><tr><td>?</td><td>åŒ¹é…å‰é¢ä¸€ä¸ªè¡¨è¾¾å¼0æ¬¡æˆ–è€…1æ¬¡ã€‚ç­‰ä»·äº {0,1}ã€‚</td></tr><tr><td>{n,m}</td><td>åŒ¹é…nåˆ°mæ¬¡</td></tr><tr><td>x(?=y)</td><td>åŒ¹é…&#39;x&#39;ä»…ä»…å½“&#39;x&#39;åé¢è·Ÿç€&#39;y&#39;.è¿™ç§å«åšæ­£å‘è‚¯å®šæŸ¥æ‰¾ã€‚ ä¾‹å¦‚ï¼Œ/Jack(?=Sprat)/ä¼šåŒ¹é…åˆ°&#39;Jack&#39;ä»…ä»…å½“å®ƒåé¢è·Ÿç€&#39;Sprat&#39;ã€‚/Jack(?=Sprat</td></tr><tr><td>x(?!y)</td><td>åŒ¹é…&#39;x&#39;ä»…ä»…å½“&#39;x&#39;åé¢ä¸è·Ÿç€&#39;y&#39;,è¿™ä¸ªå«åšæ­£å‘å¦å®šæŸ¥æ‰¾ã€‚ ä¾‹å¦‚ï¼Œ/\d+(?!.)/åŒ¹é…ä¸€ä¸ªæ•°å­—ä»…ä»…å½“è¿™ä¸ªæ•°å­—åé¢æ²¡æœ‰è·Ÿå°æ•°ç‚¹çš„æ—¶å€™ã€‚æ­£åˆ™è¡¨è¾¾å¼/\d+(?!.)/.exec(&quot;3.141&quot;)åŒ¹é…â€˜141&#39;ä½†æ˜¯ä¸æ˜¯â€˜3.141&#39;</td></tr></tbody></table><h3 id="åˆ†ç»„ç¬¦" tabindex="-1"><a class="header-anchor" href="#åˆ†ç»„ç¬¦" aria-hidden="true">#</a> åˆ†ç»„ç¬¦([],(),{});</h3><table><thead><tr><th>å­—ç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>()</td><td>å¦‚æœæƒ³è¦é‡å¤å¤šä¸ªå­—ç¬¦è¯¥æ€ä¹ˆåŠ?ä½ å¯ä»¥ç”¨å°æ‹¬å·æ¥æŒ‡å®šå­è¡¨è¾¾å¼(ä¹Ÿå«åšåˆ†ç»„)ï¼Œç„¶åä½ å°±å¯ä»¥æŒ‡å®šè¿™ä¸ªå­è¡¨è¾¾å¼çš„é‡å¤æ¬¡æ•°äº†ã€‚eg: (\d{1,3}.){3}\d{1,3}æ˜¯ä¸€ä¸ªç®€å•çš„IPåœ°å€åŒ¹é…è¡¨è¾¾å¼ã€‚è¦ç†è§£è¿™ä¸ªè¡¨è¾¾å¼ï¼Œè¯·æŒ‰ä¸‹åˆ—é¡ºåºåˆ†æå®ƒ:\d{1,3}åŒ¹é…1åˆ°3ä½çš„æ•°å­—ï¼Œ(\d{1,3}.){3}åŒ¹é…ä¸‰ä½æ•°å­—åŠ ä¸Šä¸€ä¸ªè‹±æ–‡å¥å·(è¿™ä¸ªæ•´ä½“ä¹Ÿå°±æ˜¯è¿™ä¸ªåˆ†ç»„)é‡å¤3æ¬¡ï¼Œæœ€åå†åŠ ä¸Šä¸€ä¸ªä¸€åˆ°ä¸‰ä½çš„æ•°å­—(\d{1,3})ã€‚</td></tr><tr><td>[]</td><td>ä»£è¡¨ä¸€ä¸ªå­—ç¬¦é›†åˆã€‚åŒ¹é…æ–¹æ‹¬å·çš„ä¸­ä»»æ„å­—ç¬¦ï¼ŒåŒ…æ‹¬è½¬ä¹‰åºåˆ—ã€‚ä½ å¯ä»¥ä½¿ç”¨ç ´æŠ˜å·(-)æ¥æŒ‡å®šä¸€ä¸ªå­—ç¬¦èŒƒå›´ã€‚å¯¹äºç‚¹(.)å’Œæ˜Ÿå·(*)è¿™æ ·çš„ç‰¹æ®Šç¬¦å·åœ¨ä¸€ä¸ªå­—ç¬¦é›†ä¸­æ²¡æœ‰ç‰¹æ®Šçš„æ„ä¹‰ã€‚ä»–ä»¬ä¸å¿…è¿›è¡Œè½¬ä¹‰ï¼Œä¸è¿‡è½¬ä¹‰ä¹Ÿæ˜¯èµ·ä½œç”¨çš„ã€‚ä¾‹å¦‚ï¼Œ[abcd] å’Œ[a-d]æ˜¯ä¸€æ ·çš„ã€‚ä»–ä»¬éƒ½åŒ¹é…&quot;brisket&quot;ä¸­å¾—â€˜b&#39;,ä¹Ÿéƒ½åŒ¹é…â€œcityâ€ä¸­çš„â€˜c&#39;ã€‚/[a-z.]+/ å’Œ/[\w.]+/éƒ½åŒ¹é…â€œtest.i.ngâ€ä¸­å¾—æ‰€æœ‰å­—ç¬¦ã€‚</td></tr><tr><td>{}</td><td>è¡¨ç¤ºé‡è¯çš„èŒƒå›´çš„ã€‚</td></tr></tbody></table><h3 id="ä¿®é¥°ç¬¦" tabindex="-1"><a class="header-anchor" href="#ä¿®é¥°ç¬¦" aria-hidden="true">#</a> ä¿®é¥°ç¬¦</h3><table><thead><tr><th>å­—ç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>i</td><td>å¿½ç•¥å¤§å°å†™</td></tr><tr><td>g</td><td>æ‰§è¡Œå…¨å±€åŒ¹é…</td></tr><tr><td>m</td><td>æ‰§è¡Œå¤šè¡ŒåŒ¹é…</td></tr></tbody></table><h3 id="æ­£åˆ™ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#æ­£åˆ™ç¤ºä¾‹" aria-hidden="true">#</a> æ­£åˆ™ç¤ºä¾‹</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d)(?=(?:\d{3}[+]?)+$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;$1,&quot;</span><span class="token punctuation">)</span>
<span class="token number">12345678</span>  <span class="token comment">//12,345,678</span>
<span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&#39;å¸‚|å¿&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;g&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
<span class="token comment">//å°†å®é™…æ•°æ®  å„ç§æ ¼å¼çš„æ—¥æœŸ  è½¬åŒ–ä¸ºåªè¦å¹´æœˆæ—¥  ä¸è¦æ—¶åˆ†ç§’ç­‰</span>
<span class="token keyword">var</span> datareg <span class="token operator">=</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(\d{4}(\-|\/|\.)\d{1,2}(\-|\/|\.)\d{1,2})(.{0,})$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token function">replace</span><span class="token punctuation">(</span>datareg<span class="token punctuation">,</span><span class="token string">&#39;$1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token string">&#39;windows 98 is ok&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">windows (?=\d+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [&quot;windows &quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">windows (?:\d+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [&quot;windows 98&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">windows (\d+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [&quot;windows 98&quot;, &quot;98&quot;]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="addeventlistener-å’Œattachevent-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#addeventlistener-å’Œattachevent-çš„åŒºåˆ«" aria-hidden="true">#</a> addEventListener()å’ŒattachEvent()çš„åŒºåˆ«</h2><ul><li>addEventListener() æ˜¯ç¬¦åˆW3Cè§„èŒƒçš„æ ‡å‡†â½…æ³•; attachEvent() æ˜¯IEä½ç‰ˆæœ¬çš„â¾®æ ‡å‡†â½…æ³•</li><li>addEventListener() â½€æŒäº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æ•è·; - â½½ attachEvent() åªâ½€æŒäº‹ä»¶å†’æ³¡</li><li>addEventListener() çš„ç¬¬â¼€ä¸ªå‚æ•°ä¸­,äº‹ä»¶ç±»å‹ä¸éœ€è¦æ·»åŠ  <strong>on</strong> ; attachEvent() éœ€è¦æ·»åŠ  &#39;on&#39;</li><li>å¦‚æœä¸ºåŒâ¼€ä¸ªå…ƒç´ ç»‘å®šå¤šä¸ªäº‹ä»¶, addEventListener() ä¼šæŒ‰ç…§äº‹ä»¶ç»‘å®šçš„é¡ºåº<strong>ä¾æ¬¡æ‰§â¾</strong>,attachEvent() ä¼šæŒ‰ç…§äº‹ä»¶ç»‘å®šçš„é¡ºåº<strong>å€’åº</strong>æ‰§â¾</li></ul><h2 id="â¤æ•°ç»„å»é‡æ–¹æ³•æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#â¤æ•°ç»„å»é‡æ–¹æ³•æ€»ç»“" aria-hidden="true">#</a> â¤æ•°ç»„å»é‡â½…æ³•æ€»ç»“</h2><h3 id="åˆ©ç”¨es6-setå»é‡-es6ä¸­æœ€å¸¸ç”¨" tabindex="-1"><a class="header-anchor" href="#åˆ©ç”¨es6-setå»é‡-es6ä¸­æœ€å¸¸ç”¨" aria-hidden="true">#</a> åˆ©â½¤ES6 Setå»é‡ï¼ˆES6ä¸­æœ€å¸¸â½¤ï¼‰</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">unique</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;true&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;true&#39;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token number">992</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//[1, &#39;true&#39;, true, 15, false, undefined]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="for-åµŒå¥—for" tabindex="-1"><a class="header-anchor" href="#for-åµŒå¥—for" aria-hidden="true">#</a> for åµŒå¥—for</h3><ul><li>åŒå±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å…ƒç´ ï¼Œå†…å±‚å¾ªç¯æ—¶â½è¾ƒå€¼ã€‚å€¼ç›¸åŒæ—¶ï¼Œåˆ™åˆ å»è¿™ä¸ªå€¼ã€‚</li><li>æƒ³å¿«é€Ÿå­¦ä¹ æ›´å¤šå¸¸â½¤çš„ ES6 è¯­æ³•</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//ç¬¬â¼€ä¸ªç­‰åŒäºç¬¬â¼†ä¸ªï¼Œspliceâ½…æ³•åˆ é™¤</span>
                arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                j<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;true&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;true&#39;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token number">992</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//[1, &#39;true&#39;, true, 15, false, undefined]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="åˆ©ç”¨indexofå»é‡" tabindex="-1"><a class="header-anchor" href="#åˆ©ç”¨indexofå»é‡" aria-hidden="true">#</a> åˆ©â½¤indexOfå»é‡</h3><blockquote><p>æ–°å»ºâ¼€ä¸ªç©ºçš„ç»“æœæ•°ç»„ï¼Œ for å¾ªç¯åŸæ•°ç»„ï¼Œåˆ¤æ–­ç»“æœæ•°ç»„æ˜¯å¦å­˜åœ¨å½“å‰å…ƒç´ ï¼Œå¦‚æœæœ‰ç›¸åŒçš„å€¼åˆ™è·³è¿‡ï¼Œä¸ç›¸åŒåˆ™ push è¿›æ•°ç»„</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;type error!&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> array<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="åˆ©ç”¨sort" tabindex="-1"><a class="header-anchor" href="#åˆ©ç”¨sort" aria-hidden="true">#</a> åˆ©â½¤sort()</h3><div class="custom-container tip"><p class="custom-container-title">sortå»é‡</p><p>åˆ©â½¤ sort() æ’åºâ½…æ³•ï¼Œç„¶åæ ¹æ®æ’åºåçš„ç»“æœè¿›â¾éå†åŠç›¸é‚»å…ƒç´ â½å¯¹ ä¸è¿‡é¡ºåºä¼šå˜åŒ–</p></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;type error!&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    arr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> arrry<span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!==</span> arr<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            arrry<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arrry<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡" tabindex="-1"><a class="header-anchor" href="#åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡" aria-hidden="true">#</a> åˆ©â½¤å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›â¾å»é‡</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;type error!&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> arrry<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            arrry<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            obj<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            obj<span class="token punctuation">[</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arrry<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="åˆ©ç”¨includes" tabindex="-1"><a class="header-anchor" href="#åˆ©ç”¨includes" aria-hidden="true">#</a> åˆ©â½¤includes</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;type error!&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> array <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span>array<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//includes æ£€æµ‹æ•°ç»„æ˜¯å¦æœ‰æŸä¸ªå€¼</span>
            array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> array
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="æ–¹æ³•ä¸ƒã€åˆ©ç”¨filter" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•ä¸ƒã€åˆ©ç”¨filter" aria-hidden="true">#</a> â½…æ³•ä¸ƒã€åˆ©â½¤filter</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//å½“å‰å…ƒç´ ï¼Œåœ¨åŸå§‹æ•°ç»„ä¸­çš„ç¬¬â¼€ä¸ªç´¢å¼•==å½“å‰ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›å½“å‰å…ƒç´ </span>
        <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">===</span> index<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;true&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;true&#39;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token number">992</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="javascriptå…¨å±€å‡½æ•°å’Œå…¨å±€å˜é‡" tabindex="-1"><a class="header-anchor" href="#javascriptå…¨å±€å‡½æ•°å’Œå…¨å±€å˜é‡" aria-hidden="true">#</a> Javascriptå…¨å±€å‡½æ•°å’Œå…¨å±€å˜é‡</h2><ul><li>å…¨å±€å˜é‡ <ul><li>Infinity ä»£è¡¨æ­£çš„â½†ç©·â¼¤çš„æ•°å€¼ã€‚</li><li>NaN æŒ‡ç¤ºæŸä¸ªå€¼æ˜¯ä¸æ˜¯æ•°å­—å€¼ã€‚</li><li>undefined æŒ‡ç¤ºæœªå®šä¹‰çš„å€¼ã€‚</li></ul></li><li>å…¨å±€å‡½æ•° <ul><li>decodeURI() è§£ç æŸä¸ªç¼–ç çš„ URI ã€‚</li><li>decodeURIComponent() è§£ç â¼€ä¸ªç¼–ç çš„ URI ç»„ä»¶ã€‚</li><li>encodeURI() æŠŠå­—ç¬¦ä¸²ç¼–ç ä¸º URIã€‚</li><li>encodeURIComponent() æŠŠå­—ç¬¦ä¸²ç¼–ç ä¸º URI ç»„ä»¶ã€‚</li><li>escape() å¯¹å­—ç¬¦ä¸²è¿›â¾ç¼–ç ã€‚</li><li>eval() è®¡ç®— JavaScript å­—ç¬¦ä¸²ï¼Œå¹¶æŠŠå®ƒä½œä¸ºè„šæœ¬ä»£ç æ¥æ‰§â¾ã€‚</li><li>isFinite() æ£€æŸ¥æŸä¸ªå€¼æ˜¯å¦ä¸ºæœ‰ç©·â¼¤çš„æ•°ã€‚</li><li>isNaN() æ£€æŸ¥æŸä¸ªå€¼æ˜¯å¦æ˜¯æ•°å­—ã€‚</li><li>Number() æŠŠå¯¹è±¡çš„å€¼è½¬æ¢ä¸ºæ•°å­—ã€‚</li><li>parseFloat() è§£æâ¼€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›â¼€ä¸ªæµ®ç‚¹æ•°ã€‚</li><li>parseInt() è§£æâ¼€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›â¼€ä¸ªæ•´æ•°ã€‚</li><li>String() æŠŠå¯¹è±¡çš„å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚</li><li>unescape() å¯¹ç”± escape() ç¼–ç çš„å­—ç¬¦ä¸²è¿›â¾è§£ç </li></ul></li></ul><h2 id="ä½¿ç”¨csså®ç°ä¸€ä¸ªæŒç»­çš„åŠ¨ç”»æ•ˆæœ" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨csså®ç°ä¸€ä¸ªæŒç»­çš„åŠ¨ç”»æ•ˆæœ" aria-hidden="true">#</a> ä½¿â½¤csså®ç°â¼€ä¸ªæŒç»­çš„åŠ¨ç”»æ•ˆæœ</h2><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token property">animation</span><span class="token punctuation">:</span>mymove 5s infinite<span class="token punctuation">;</span>
<span class="token atrule"><span class="token rule">@keyframes</span> mymove</span> <span class="token punctuation">{</span>
 <span class="token selector">from</span> <span class="token punctuation">{</span><span class="token property">top</span><span class="token punctuation">:</span>0px<span class="token punctuation">;</span><span class="token punctuation">}</span>
 <span class="token selector">to</span> <span class="token punctuation">{</span><span class="token property">top</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>animation-name è§„å®šéœ€è¦ç»‘å®šåˆ°é€‰æ‹©å™¨çš„ keyframe åç§°ã€‚</li><li>animation-duration è§„å®šå®ŒæˆåŠ¨ç”»æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œä»¥ç§’æˆ–æ¯«ç§’è®¡ã€‚</li><li>animation-timing-function è§„å®šåŠ¨ç”»çš„é€Ÿåº¦æ›²çº¿ã€‚</li><li>animation-delay è§„å®šåœ¨åŠ¨ç”»å¼€å§‹ä¹‹å‰çš„å»¶è¿Ÿã€‚</li><li>animation-iteration-count è§„å®šåŠ¨ç”»åº”è¯¥æ’­æ”¾çš„æ¬¡æ•°ã€‚</li><li>animation-direction è§„å®šæ˜¯å¦åº”è¯¥è½®æµåå‘æ’­æ”¾åŠ¨ç”»</li></ul><h2 id="websocket" tabindex="-1"><a class="header-anchor" href="#websocket" aria-hidden="true">#</a> WebSocket</h2><div class="custom-container tip"><p class="custom-container-title">WebSocket</p><p>ç”±äº http å­˜åœ¨â¼€ä¸ªæ˜æ˜¾çš„å¼Šç«¯ï¼ˆæ¶ˆæ¯åªèƒ½æœ‰å®¢æˆ·ç«¯æ¨é€åˆ°æœåŠ¡å™¨ç«¯ï¼Œâ½½æœåŠ¡å™¨ç«¯ä¸èƒ½ä¸»åŠ¨æ¨é€åˆ°å®¢æˆ·ç«¯ï¼‰ï¼Œå¯¼è‡´å¦‚æœæœåŠ¡å™¨å¦‚æœæœ‰è¿ç»­çš„å˜åŒ–ï¼Œè¿™æ—¶åªèƒ½ä½¿â½¤è½®è¯¢ï¼Œâ½½è½®è¯¢æ•ˆç‡è¿‡ä½ï¼Œå¹¶ä¸é€‚åˆã€‚äºæ˜¯ <strong>WebSocket</strong> è¢«å‘æ˜å‡ºæ¥</p></div><ul><li>â½€æŒåŒå‘é€šä¿¡ï¼Œå®æ—¶æ€§æ›´å¼ºï¼›</li><li>å¯ä»¥å‘é€â½‚æœ¬ï¼Œä¹Ÿå¯ä»¥â¼†è¿›åˆ¶â½‚ä»¶ï¼›</li><li>åè®®æ ‡è¯†ç¬¦æ˜¯ ws ï¼ŒåŠ å¯†åæ˜¯ wss ï¼›</li><li>è¾ƒå°‘çš„æ§åˆ¶å¼€é”€ã€‚è¿æ¥åˆ›å»ºåï¼Œ ws å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯è¿›â¾æ•°æ®äº¤æ¢æ—¶ï¼Œåè®®æ§åˆ¶çš„æ•°æ®åŒ…å¤´éƒ¨è¾ƒâ¼©ã€‚åœ¨ä¸åŒ…å«å¤´éƒ¨çš„æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯åˆ°å®¢æˆ·ç«¯çš„åŒ…å¤´åªæœ‰ 2~10 å­—èŠ‚ï¼ˆå–å†³äºæ•°æ®åŒ…â»“åº¦ï¼‰ï¼Œå®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯çš„çš„è¯ï¼Œéœ€è¦åŠ ä¸Šé¢å¤–çš„4å­—èŠ‚çš„æ©ç ã€‚â½½ HTTP åè®®æ¯æ¬¡é€šä¿¡éƒ½éœ€è¦æºå¸¦å®Œæ•´çš„å¤´éƒ¨ï¼›</li><li>â½€æŒæ‰©å±•ã€‚wsåè®®å®šä¹‰äº†æ‰©å±•ï¼Œâ½¤æˆ·å¯ä»¥æ‰©å±•åè®®ï¼Œæˆ–è€…å®ç°â¾ƒå®šä¹‰çš„â¼¦åè®®ã€‚ï¼ˆâ½å¦‚â½€æŒâ¾ƒå®šä¹‰å‹ç¼©ç®—æ³•ç­‰ï¼‰</li><li>â½†è·¨åŸŸé—®é¢˜ã€‚</li></ul><div class="custom-container tip"><p class="custom-container-title">t</p><p>å®ç°â½è¾ƒç®€å•ï¼ŒæœåŠ¡ç«¯åº“å¦‚ socket.io ã€ ws ï¼Œå¯ä»¥å¾ˆå¥½çš„å¸®åŠ©æˆ‘ä»¬â¼Šâ»”ã€‚ â½½å®¢æˆ·ç«¯ä¹Ÿåªéœ€è¦å‚ç…§ api å®ç°å³å¯</p></div><h2 id="electron" tabindex="-1"><a class="header-anchor" href="#electron" aria-hidden="true">#</a> Electron</h2><div class="custom-container tip"><p class="custom-container-title">Electron</p><p>æœ€æœ€é‡è¦çš„â¼€ç‚¹ï¼Œ electron å®é™…ä¸Šæ˜¯â¼€ä¸ªå¥—äº† <strong>Chrome</strong> çš„ <strong>nodeJS</strong> ç¨‹åº</p></div><ul><li>Chrome ï¼ˆâ½†å„ç§å…¼å®¹æ€§é—®é¢˜ï¼‰ï¼›</li><li>NodeJS ï¼ˆ <strong>NodeJS èƒ½åšçš„å®ƒä¹Ÿèƒ½åš</strong>ï¼‰</li></ul><h2 id="â¤æ·±æµ…æ‹·â»‰" tabindex="-1"><a class="header-anchor" href="#â¤æ·±æµ…æ‹·â»‰" aria-hidden="true">#</a> â¤æ·±æµ…æ‹·â»‰</h2><h3 id="æµ…æ‹·â»‰" tabindex="-1"><a class="header-anchor" href="#æµ…æ‹·â»‰" aria-hidden="true">#</a> æµ…æ‹·â»‰</h3><ul><li>Object.assign</li><li>æˆ–è€…å±•å¼€è¿ç®—ç¬¦</li></ul><h3 id="æ·±æ‹·â»‰" tabindex="-1"><a class="header-anchor" href="#æ·±æ‹·â»‰" aria-hidden="true">#</a> æ·±æ‹·â»‰</h3><ul><li>å®ç°æ–¹æ³•ä¸€ï¼šå¯ä»¥é€šè¿‡ JSON.parse(JSON.stringify(object)) æ¥è§£å†³ <code>è¯¥â½…æ³•ä¹Ÿæ˜¯æœ‰å±€é™æ€§çš„</code><ul><li>ä¼šå¿½ç•¥ undefined</li><li>ä¸èƒ½åºåˆ—åŒ–å‡½æ•°</li><li>ä¸èƒ½è§£å†³å¾ªç¯å¼•â½¤çš„å¯¹è±¡</li></ul></li><li>JSé€’å½’</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">cloneObj</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> type <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;Array&#39;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        newObj <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> val <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
        newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>val <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">cloneObj</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">:</span> val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> newObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="â¤é˜²æŠ–-èŠ‚æµ" tabindex="-1"><a class="header-anchor" href="#â¤é˜²æŠ–-èŠ‚æµ" aria-hidden="true">#</a> â¤é˜²æŠ–/èŠ‚æµ</h2><h3 id="é˜²æŠ–" tabindex="-1"><a class="header-anchor" href="#é˜²æŠ–" aria-hidden="true">#</a> é˜²æŠ–</h3><p><strong>å°†å¤šæ¬¡æ‰§â¾å˜ä¸ºæœ€åâ¼€æ¬¡æ‰§â¾</strong></p><blockquote><p>åœ¨æ»šåŠ¨äº‹ä»¶ä¸­ã€é¼ æ ‡æ‹–åŠ¨äº‹ä»¶ä¸­éœ€è¦åšä¸ªå¤æ‚è®¡ç®—æˆ–è€…å®ç°â¼€ä¸ªæŒ‰é’®çš„é˜²â¼†æ¬¡ç‚¹å‡»æ“ä½œã€‚å¯ä»¥é€šè¿‡å‡½æ•°é˜²æŠ–åŠ¨æ¥å®ç°</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@desc</span> å‡½æ•°é˜²æŠ–
 * <span class="token keyword">@param</span> <span class="token parameter">func</span> ç›®æ ‡å‡½æ•°
 * <span class="token keyword">@param</span> <span class="token parameter">wait</span> å»¶è¿Ÿæ‰§è¡Œæ¯«ç§’æ•°
 * <span class="token keyword">@param</span> <span class="token parameter">immediate</span> true - ç«‹å³æ‰§è¡Œï¼Œ false - å»¶è¿Ÿæ‰§è¡Œ
 */</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">,</span> immediate <span class="token operator">=</span> <span class="token boolean">true</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
            args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> callNow <span class="token operator">=</span> <span class="token operator">!</span>timer<span class="token punctuation">;</span>
            timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="èŠ‚æµ" tabindex="-1"><a class="header-anchor" href="#èŠ‚æµ" aria-hidden="true">#</a> èŠ‚æµ</h3><p><strong>å°†å¤šæ¬¡æ‰§â¾å˜æˆæ¯éš”â¼€æ®µæ—¶é—´æ‰§â¾</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@desc</span> å‡½æ•°èŠ‚æµ
 * <span class="token keyword">@param</span> <span class="token parameter">func</span> å‡½æ•°
 * <span class="token keyword">@param</span> <span class="token parameter">wait</span> å»¶è¿Ÿæ‰§è¡Œæ¯«ç§’æ•°
 * <span class="token keyword">@param</span> <span class="token parameter">type</span> 1 ä½¿ç”¨è¡¨æ—¶é—´æˆ³ï¼Œåœ¨æ—¶é—´æ®µå¼€å§‹çš„æ—¶å€™è§¦å‘ 2 ä½¿ç”¨è¡¨å®šæ—¶å™¨ï¼Œåœ¨æ—¶é—´æ®µç»“æŸçš„æ—¶å€™è§¦å‘
 */</span>
<span class="token keyword">function</span> <span class="token function">throttle</span> <span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
    <span class="token keyword">let</span> previous <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> timeout<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> previous <span class="token operator">&gt;</span> wait<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
                previous <span class="token operator">=</span> now<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                    <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="è°ˆå˜é‡æå‡" tabindex="-1"><a class="header-anchor" href="#è°ˆå˜é‡æå‡" aria-hidden="true">#</a> è°ˆå˜é‡æå‡</h2><div class="custom-container tip"><p class="custom-container-title">å˜é‡æå‡</p><p>å½“æ‰§â¾ JS ä»£ç æ—¶ï¼Œä¼šâ½£æˆæ‰§â¾ç¯å¢ƒï¼Œåªè¦ä»£ç ä¸æ˜¯å†™åœ¨å‡½æ•°ä¸­çš„ï¼Œå°±æ˜¯åœ¨å…¨å±€æ‰§â¾ç¯å¢ƒä¸­ï¼Œå‡½æ•°ä¸­çš„ä»£ç ä¼šäº§â½£å‡½æ•°æ‰§â¾ç¯å¢ƒï¼Œåªæ­¤ä¸¤ç§æ‰§â¾ç¯å¢ƒ</p></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// call b</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&#39;Hello world&#39;</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;call b&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>è¿™æ˜¯å› ä¸ºå‡½æ•°å’Œå˜é‡æå‡çš„åŸå› ã€‚é€šå¸¸æå‡çš„è§£é‡Šæ˜¯è¯´<strong>å°†å£°æ˜çš„ä»£ç ç§»åŠ¨åˆ°äº†é¡¶éƒ¨</strong>ï¼Œè¿™å…¶å®æ²¡æœ‰ä»€ä¹ˆé”™è¯¯ï¼Œä¾¿äºâ¼¤å®¶ç†è§£ã€‚</p><p>ä½†æ˜¯æ›´å‡†ç¡®çš„è§£é‡Šåº”è¯¥æ˜¯ï¼šåœ¨â½£æˆæ‰§â¾ç¯å¢ƒæ—¶ï¼Œä¼šæœ‰ä¸¤ä¸ªé˜¶æ®µã€‚</p><p>ç¬¬â¼€ä¸ªé˜¶æ®µæ˜¯åˆ›å»ºçš„é˜¶æ®µï¼ŒJS è§£é‡Šå™¨ä¼šæ‰¾å‡ºéœ€è¦æå‡çš„å˜é‡å’Œå‡½æ•°ï¼Œå¹¶ä¸”ç»™ä»–ä»¬æå‰åœ¨å†…å­˜ä¸­å¼€è¾Ÿå¥½ç©ºé—´ï¼Œå‡½æ•°çš„è¯ä¼šå°†<strong>æ•´ä¸ªå‡½æ•°å­˜â¼Šå†…å­˜ä¸­</strong>ï¼Œå˜é‡åª<strong>å£°æ˜å¹¶ä¸”èµ‹å€¼ä¸º undefined</strong> ï¼Œ</p><p>æ‰€ä»¥åœ¨ç¬¬â¼†ä¸ªé˜¶æ®µï¼Œä¹Ÿå°±æ˜¯ä»£ç æ‰§â¾é˜¶æ®µï¼Œæˆ‘ä»¬å¯ä»¥<strong>ç›´æ¥æå‰ä½¿â½¤</strong></p></div><ul><li>åœ¨æå‡çš„è¿‡ç¨‹ä¸­ï¼Œç›¸åŒçš„å‡½æ•°ä¼šè¦†ç›–ä¸Šâ¼€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”å‡½æ•°ä¼˜å…ˆäºå˜é‡æå‡</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// call b second</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;call b fist&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;call b second&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&#39;Hello world&#39;</span> <span class="token comment">//</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// Hello world</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>å¤åˆ¶ä»£ç  var ä¼šäº§â½£å¾ˆå¤šé”™è¯¯ï¼Œæ‰€ä»¥åœ¨ ES6 ä¸­å¼•â¼Šäº† let ã€‚</p><p>let ä¸èƒ½åœ¨å£°æ˜å‰ä½¿â½¤ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯å¸¸è¯´çš„ let ä¸ä¼šæå‡ï¼Œlet æå‡äº†ï¼Œåœ¨ç¬¬â¼€é˜¶æ®µå†…å­˜ä¹Ÿå·²ç»ä¸ºä»–å¼€è¾Ÿå¥½äº†ç©ºé—´ï¼Œä½†æ˜¯å› ä¸ºè¿™ä¸ªå£°æ˜çš„ç‰¹æ€§å¯¼è‡´äº†å¹¶ä¸èƒ½åœ¨å£°æ˜å‰ä½¿â½¤</p></div><h2 id="ç‚¹å‡»å®¹å™¨å†…çš„å›¾æ ‡-å›¾æ ‡è¾¹æ¡†å˜æˆborder-1px-solid-red-ç‚¹å‡»ç©ºç™½å¤„é‡ç½®" tabindex="-1"><a class="header-anchor" href="#ç‚¹å‡»å®¹å™¨å†…çš„å›¾æ ‡-å›¾æ ‡è¾¹æ¡†å˜æˆborder-1px-solid-red-ç‚¹å‡»ç©ºç™½å¤„é‡ç½®" aria-hidden="true">#</a> ç‚¹å‡»å®¹å™¨å†…çš„å›¾æ ‡ï¼Œå›¾æ ‡è¾¹æ¡†å˜æˆborder 1px solid redï¼Œç‚¹å‡»ç©ºâ½©å¤„é‡ç½®</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;box&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">isIcon</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> target<span class="token punctuation">.</span>className<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#39;icon&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
box<span class="token punctuation">.</span><span class="token function-variable function">onClick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isIcon</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">&#39;1px solid red&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> doc <span class="token operator">=</span> document<span class="token punctuation">;</span>
doc<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> children <span class="token operator">=</span> box<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isIcon</span><span class="token punctuation">(</span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="å®ç°storage-ä½¿å¾—è¯¥å¯¹è±¡ä¸ºå•ä¾‹-å¹¶å¯¹-localstorage-è¿›è¡Œå°è£…è®¾ç½®å€¼setitem-key-value-å’Œgetitem-key" tabindex="-1"><a class="header-anchor" href="#å®ç°storage-ä½¿å¾—è¯¥å¯¹è±¡ä¸ºå•ä¾‹-å¹¶å¯¹-localstorage-è¿›è¡Œå°è£…è®¾ç½®å€¼setitem-key-value-å’Œgetitem-key" aria-hidden="true">#</a> å®ç°Storageï¼Œä½¿å¾—è¯¥å¯¹è±¡ä¸ºå•ä¾‹ï¼Œå¹¶å¯¹ localStorage è¿›â¾å°è£…è®¾ç½®å€¼setItem(key,value)å’ŒgetItem(key)</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Storage</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Storage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function-variable function">setItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getItem</span> <span class="token operator">=</span> <span class="token parameter">key</span> <span class="token operator">=&gt;</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="ä¸ºä»€ä¹ˆcanvas-çš„å›¾ç‰‡æœ‰è·¨åŸŸé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆcanvas-çš„å›¾ç‰‡æœ‰è·¨åŸŸé—®é¢˜" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆcanvas çš„å›¾â½šæœ‰è·¨åŸŸé—®é¢˜</h2><p>ä¸ºäº†é˜»æ­¢å¤šç§ç±»å‹çš„XSS/CSRFæ”»å‡»ï¼ˆä¸¤ç§å…¸å‹çš„è·¨ç«™æ”»å‡»ï¼‰ã€‚</p><ul><li>è§£å†³åŠæ³•</li></ul><p>åœ¨HTML5ä¸­ï¼Œæœ‰äº›å…ƒç´ æä¾›äº†æ”¯æŒCORS(Cross-Origin Resource Sharing)ï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰çš„å±æ€§ï¼Œè¿™äº›å…ƒç´ åŒ…æ‹¬<code>&lt;img&gt;ï¼Œ&lt;video&gt;ï¼Œ&lt;script&gt;</code>ç­‰ï¼Œè€Œæä¾›çš„å±æ€§åå°±æ˜¯crossOriginå±æ€§ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;canvas&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&#39;2d&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">var</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>crossOrigin <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    context<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">getImageData</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;https://avatars3.githubusercontent.com/u/496048?s=120&amp;v=4&#39;</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>crossOrigin <span class="token operator">=</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span>crossOrigin<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ç»“æœæ˜¯&#39;anonymous&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="crossoriginå±æ€§ä¸ºä»€ä¹ˆå¯ä»¥è§£å†³èµ„æºè·¨åŸŸé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#crossoriginå±æ€§ä¸ºä»€ä¹ˆå¯ä»¥è§£å†³èµ„æºè·¨åŸŸé—®é¢˜" aria-hidden="true">#</a> crossOriginå±æ€§ä¸ºä»€ä¹ˆå¯ä»¥è§£å†³èµ„æºè·¨åŸŸé—®é¢˜ï¼Ÿ</h3><p>crossOrigin=anonymousç›¸å¯¹äºå‘Šè¯‰å¯¹æ–¹æœåŠ¡å™¨ï¼Œä½ ä¸éœ€è¦å¸¦ä»»ä½•éåŒ¿åä¿¡æ¯è¿‡æ¥ã€‚ä¾‹å¦‚cookieï¼Œå› æ­¤ï¼Œå½“å‰æµè§ˆå™¨è‚¯å®šæ˜¯å®‰å…¨çš„ã€‚</p><p>å°±å¥½æ¯”ä½ è¦å»åˆ«äººå®¶é‡Œæ‹¿ä¸€ä»¶è¡£æœï¼ŒcrossOrigin=anonymousç›¸å¯¹äºå‘Šè¯‰å¯¹æ–¹ï¼Œæˆ‘åªè¦è¡£æœï¼Œå…¶ä»–éƒ½ä¸è¦ã€‚å¦‚æœä¸è¯´ï¼Œå¯èƒ½å¯¹æ–¹åœ¨è¡£æœé‡Œæ”¾ä¸ªçªƒå¬å™¨ä»€ä¹ˆçš„ï¼Œå°±ä¸å®‰å…¨äº†ï¼Œæµè§ˆå™¨å°±ä¼šé˜»æ­¢ã€‚</p><h2 id="ajaxã€axiosã€fetchåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#ajaxã€axiosã€fetchåŒºåˆ«" aria-hidden="true">#</a> ajaxã€axiosã€fetchåŒºåˆ«</h2><ul><li>jQuery ajaxä¼˜ç¼ºç‚¹ï¼š <ul><li>æœ¬èº«æ˜¯é’ˆå¯¹ MVC çš„ç¼–ç¨‹,ä¸ç¬¦åˆç°åœ¨å‰ç«¯ <strong>MVVM</strong> çš„æµªæ½®</li><li>åŸºäºåŸâ½£çš„ XHR å¼€å‘ï¼Œ XHR æœ¬èº«çš„æ¶æ„ä¸æ¸…æ™°ï¼Œå·²ç»æœ‰äº† <strong>fetch</strong> çš„æ›¿ä»£â½…æ¡ˆ</li><li><strong>JQuery</strong> æ•´ä¸ªé¡¹â½¬å¤ªâ¼¤ï¼Œå•çº¯ä½¿â½¤ <strong>ajax</strong> å´è¦å¼•â¼Šæ•´ä¸ª <strong>JQuery</strong> â¾®å¸¸çš„ä¸åˆç†ï¼ˆé‡‡å–ä¸ªæ€§åŒ–æ‰“åŒ…çš„â½…æ¡ˆâ¼œä¸èƒ½äº«å—CDNæœåŠ¡ï¼‰</li></ul></li><li>axios <ul><li>ä»æµè§ˆå™¨ä¸­åˆ›å»º XMLHttpRequest</li><li>ä» <strong>node.js</strong> å‘å‡º http è¯·æ±‚</li><li>â½€æŒ <strong>Promise API</strong></li><li>æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li><li>è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®</li><li><strong>å–æ¶ˆè¯·æ±‚</strong></li><li>â¾ƒåŠ¨è½¬æ¢ JSON æ•°æ®</li><li>å®¢æˆ·ç«¯â½€æŒé˜²â½Œ** CSRF/XSRF**</li></ul></li><li>fetch <ul><li>fetcht åªå¯¹â½¹ç»œè¯·æ±‚æŠ¥é”™ï¼Œå¯¹ <strong>400 ï¼Œ 500</strong> éƒ½å½“åšæˆåŠŸçš„è¯·æ±‚ï¼Œéœ€è¦å°è£…å»å¤„ç†</li><li>fetch <strong>é»˜è®¤ä¸ä¼šå¸¦ cookie</strong> ï¼Œéœ€è¦æ·»åŠ é…ç½®é¡¹</li><li>fetch ä¸â½€æŒ abort ï¼Œä¸â½€æŒ<strong>è¶…æ—¶æ§åˆ¶</strong>ï¼Œä½¿â½¤ setTimeout åŠ Promise.reject çš„å®ç°çš„è¶…æ—¶æ§åˆ¶å¹¶ä¸èƒ½é˜»â½Œè¯·æ±‚è¿‡ç¨‹ç»§ç»­åœ¨åå°è¿â¾ï¼Œé€ æˆäº†é‡çš„æµªè´¹</li><li>fetch æ²¡æœ‰åŠæ³•<strong>åŸâ½£ç›‘æµ‹è¯·æ±‚çš„è¿›åº¦</strong>ï¼Œâ½½XHRå¯ä»¥</li></ul></li></ul><h2 id="â¤æ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«-åœ¨å†…å­˜ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#â¤æ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«-åœ¨å†…å­˜ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«" aria-hidden="true">#</a> â¤æ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«ï¼Œåœ¨å†…å­˜ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«</h2><ul><li>æ•°ç»„ <ul><li>â‘  æ•°ç»„çš„å®šä¹‰ä¸Šæœ‰ä¸ªå¿…è¦æ¡ä»¶æ˜¯ï¼šâ€œå­˜å‚¨åœ¨è¿ç»­çš„å†…å­˜ç©ºé—´é‡Œâ€çš„æœ‰åºå…ƒç´ åºåˆ—</li><li>â‘¡ â€œJS æ•°ç»„æœªå¿…æ˜¯çœŸæ­£çš„æ•°ç»„â€</li><li>â‘¢ åŒºåˆ†JSæ•°ç»„ å’Œ å¸¸è§„æ•°ç»„</li></ul></li></ul><blockquote><p>å¸¸è§„æ•°ç»„ï¼š æ•°ç»„å…ƒç´ å†…å®¹æ˜¯ä¸€ç§ç±»å‹çš„å…ƒç´ ï¼Œå¦‚const arr = [1,2,3,4]ï¼Œåœ¨å­˜å‚¨ç©ºé—´æ˜¯è¿ç»­å†…å­˜çš„</p></blockquote><blockquote><p>JSæ•°ç»„ï¼š æ•°ç»„å…ƒç´ å†…å®¹ä¸æ˜¯åŒä¸€ç§ç±»å‹çš„å…ƒç´ ï¼Œå¦‚const arr = [&#39;haha&#39;, 1, {a:1}]ï¼Œåˆ™åœ¨å­˜å‚¨ä¸Šæ˜¯ä¸€æ®µéè¿ç»­ç©ºé—´ã€‚æ­¤æ—¶ï¼ŒJS æ•°ç»„ä¸å†å…·æœ‰æ•°ç»„çš„ç‰¹å¾ï¼Œ<strong>å…¶åº•å±‚å…¶å®æ˜¯ç”±é“¾è¡¨æ¥å®ç°çš„</strong></p></blockquote><ul><li><p>é“¾è¡¨</p><ul><li>â‘  åœ¨å­˜å‚¨ä¸Šæ˜¯æ— åºçš„ï¼Œä¾é nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªnodeç»“ç‚¹</li><li>â‘¡ JS ä¸­çš„é“¾è¡¨ï¼Œæ˜¯ä»¥åµŒå¥—çš„å¯¹è±¡çš„å½¢å¼æ¥å®ç°çš„</li></ul></li><li><p>é“¾è¡¨ ä¸ æ•°ç»„</p><ul><li>â‘  æˆ‘ä»¬å‡è®¾æ•°ç»„çš„é•¿åº¦æ˜¯ nï¼Œé‚£ä¹ˆå› å¢åŠ /åˆ é™¤æ“ä½œå¯¼è‡´éœ€è¦ç§»åŠ¨çš„å…ƒç´ æ•°é‡ï¼Œå°±ä¼šéšç€æ•°ç»„é•¿åº¦ n çš„å¢å¤§è€Œå¢å¤§ï¼Œå‘ˆä¸€ä¸ªçº¿æ€§å…³ç³»ã€‚æ‰€ä»¥è¯´æ•°ç»„å¢åŠ /åˆ é™¤æ“ä½œå¯¹åº”çš„å¤æ‚åº¦å°±æ˜¯ O(n)ï¼›</li><li>åœ¨é“¾è¡¨ä¸­ï¼Œæ·»åŠ å’Œåˆ é™¤æ“ä½œçš„å¤æ‚åº¦æ˜¯å›ºå®šçš„â€”â€”ä¸ç®¡é“¾è¡¨é‡Œé¢çš„ç»“ç‚¹ä¸ªæ•° n æœ‰å¤šå¤§ï¼Œåªè¦æˆ‘ä»¬æ˜ç¡®äº†è¦æ’å…¥/åˆ é™¤çš„ç›®æ ‡ä½ç½®ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åšçš„éƒ½ä»…ä»…æ˜¯æ”¹å˜ç›®æ ‡ç»“ç‚¹åŠå…¶å‰é©±/åç»§ç»“ç‚¹çš„æŒ‡é’ˆæŒ‡å‘ã€‚ <ul><li>å› æ­¤æˆ‘ä»¬è¯´é“¾è¡¨å¢åˆ æ“ä½œçš„å¤æ‚åº¦æ˜¯å¸¸æ•°çº§åˆ«çš„å¤æ‚åº¦ï¼Œç”¨å¤§ O è¡¨ç¤ºæ³•è¡¨ç¤ºä¸º O(1)</li></ul></li><li>â‘¡ åœ¨æ•°ç»„ä¸­ï¼Œæˆ‘ä»¬ç›´æ¥è®¿é—®ç´¢å¼•ã€å¯ä»¥åšåˆ°ä¸€æ­¥åˆ°ä½ï¼Œè¿™ä¸ªæ“ä½œçš„å¤æ‚åº¦ä¼šè¢«é™çº§ä¸ºå¸¸æ•°çº§åˆ«(O(1))ï¼›</li><li>éšç€é“¾è¡¨é•¿åº¦çš„å¢åŠ ï¼Œæˆ‘ä»¬æœç´¢çš„èŒƒå›´ä¹Ÿä¼šå˜å¤§ã€éå†å…¶ä¸­ä»»æ„å…ƒç´ çš„æ—¶é—´æˆæœ¬è‡ªç„¶éšä¹‹æé«˜ã€‚è¿™ä¸ªå˜åŒ–çš„è¶‹åŠ¿å‘ˆçº¿æ€§è§„å¾‹ï¼Œç”¨å¤§ O è¡¨ç¤ºæ³•è¡¨ç¤ºä¸º O(n)</li></ul></li><li><p>æ€»ç»“</p><ul><li>é“¾è¡¨çš„æ’å…¥/åˆ é™¤æ•ˆç‡è¾ƒé«˜ï¼Œè€Œè®¿é—®æ•ˆç‡è¾ƒä½ï¼›</li><li>æ•°ç»„çš„è®¿é—®æ•ˆç‡è¾ƒé«˜ï¼Œè€Œæ’å…¥æ•ˆç‡è¾ƒä½</li></ul></li></ul><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 876304802@qq.com">cjSound</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="./assets/app.84c19619.js" defer></script>
  </body>
</html>
